{"version":3,"sources":["image/avatar-boy.svg","image/common_1.png","image/common_2.png","image/common_3.png","image/common_4.png","image/common_5.png","image/attack.png","image/skip.png","image/see_the_future.png","image/favor.png","image/defuse.png","image/nope.png","image/shuffle.png","image/bomb.png","image/exit.png","image/shibaBackground.svg","pets.jpg","components/LoadingScreen.js","components/Redirect.js","components/Button.js","views/Welcome/ModeDialog/index.js","views/Welcome/CustomDialog/index.js","views/Welcome/RankCustom/index.js","views/Welcome/Profile/components/icon.js","views/Welcome/Profile/ProfileDialog.js","views/Welcome/Profile/index.js","views/Welcome/index.js","views/Home.js","views/NotFound.js","views/Gameplay/Chat/index.js","views/Gameplay/Chat/mock.js","components/Assets/Palette.js","components/type.js","views/Gameplay/PlayerHand/index.js","components/TransitionsModal.js","views/Gameplay/SeeTheFutureDialog/index.js","views/Gameplay/CardSelectorDialog/index.js","views/Gameplay/ExplodingPuppyDialog/index.js","views/Gameplay/GameResultDialog/index.js","views/Gameplay/Otherhand/index.js","views/Gameplay/Game/index.js","views/Gameplay/index.js","components/AuthGaurd.js","views/Auth/index.js","Routes.js","App.js","serviceWorker.js","index.js","image/card_back.png","shiba-inu.svg"],"names":["module","exports","useStyles","makeStyles","theme","root","alignItems","backgroundColor","palette","background","default","display","flexDirection","height","justifyContent","minHeight","padding","spacing","LoadingScreen","classes","useEffect","NProgress","start","done","className","Box","width","LinearProgress","Redirect","to","history","useHistory","push","go","button","borderRadius","border","cursor","boxShadow","disabledButton","primaryButton","secondaryButton","content","icon","text","textAlign","fontFamily","fontSize","color","textShadow","Button","props","contentStyle","iconStyle","iconPosition","style","onClick","disabled","marginRight","marginLeft","marginBottom","marginTop","undefined","classNames","src","usestyle","position","ModeDialog","open","onClose","customButton","rankButton","Dialog","fullWidth","maxWidth","Grid","container","top","right","item","Typography","direction","xs","CustomDialog","RankDialog","time","settime","React","setTimeout","console","log","left","ShibaFoot","viewBox","fill","xmlns","fill-rule","clip-rule","d","fill-opacity","ENDPOINT","process","REACT_APP_BACKEND_API","Transition","forwardRef","ref","Slide","detailImage","detailContent","margin","detailText","lineHeight","transition","dialogPaper","title","editButton","logoutIcon","contentResponsive","alignContent","ProfileDialog","handleClose","profileResouce","useRef","useState","footColor","setFootColor","nameEditing","setNameEditing","userName","setUsername","onLogout","sessionStorage","clear","Title","randomColor","Math","random","toString","padStart","ProfileImage","memo","avatarBoy","alt","handleUserNameChange","userId","getItem","axios","patch","Logout","IconButton","PaperProps","paper","TransitionComponent","clsx","ClickAwayListener","onClickAway","mouseEvent","touchEvent","InputBase","value","onChange","e","name","target","setItem","onKeyPress","key","onDoubleClick","alignSelf","status","userRank","userLevel","Number","winRate","toFixed","userExp","profileImage","profileText","rectDecor1","rectDecor2","Profile","imgSrc","openProfile","setOpenProfile","handleOpenDialog","justify","Avatar","Welcome","joinRoom100001","handleClickPlayButton","setState","openModeDialog","handleClickCustomButton","openCustomDialog","handleClickRankButton","matchmakingSocket","state","emit","openRankDialog","closeModeDialog","closeCustomDialog","closeRankDialog","this","on","data","profileSection","friendSection","mainSection","paddingTop","logo","playButton","Component","withStyles","Home","NotFound","thisUserId","privateMessages","fromUsername","toUsername","message","Palette","yellow100","red100","blue100","blue200","blue300","grey100","green400","chatBoxHeight","chatBoxContainer","zIndex","breakpoints","up","chatBox","filter","backdropFilter","overflowY","textOverflow","wordWrap","chatSelect","chatBubble","divider","ripple","textfieldInput","Chat","thisRoomId","roomId","socket","sendMessageRoom","usersData","isHover","setIsHover","chatRootStyle","room","messages","private","messageGroup","setMessageGroup","peopleBubbles","setPeopleBubbles","showChatbox","setShowChatbox","currentShowMessage","setCurrentShowMessage","typing","setTyping","chatBoxElement","thisUsername","isUserJoined","setIsUserJoined","length","forEach","user","person","window","roomMes","fromRoomId","fromUserId","pushRoomMessage","useMemo","peopleData","peopleList","index","includes","floor","handleshowMessage","username","handleTyping","handleEnter","privateMes","AlwaysScrollToBottom","elementRef","current","scrollIntoView","block","behavior","onMouseEnter","onMouseLeave","Grow","in","timeout","clearTimeout","handleCloseMessage","id","getMsgKey","map","parseInt","filterMsg","align","TextField","placeholder","InputProps","input","endAdornment","InputAdornment","size","Tooltip","placement","arrow","interactive","people","Card","explodingPuppy","defuse","nope","attack","skip","favor","seeTheFuture","shuffle","common1","common2","common3","common4","common5","backCard","getCardImage","card","see_the_future","common_1","common_2","common_3","common_4","common_5","bomb","card_back","wrapper","cardsWrapper","overflow","list","listItem","listStyle","menuWrapper","paddingRight","useCardButton","PlayerHand","cards","handleUseCard","nextUserId","countDownComponent","canNope","cardSelectorId","selectedCards","setSelectedCards","paddingBottom","idx","n","currentSelected","selectCard","indexOf","selectingCard","cardIdx","sort","i","canUseSelectedCards","_handleUseCard","modal","dialog","outline","closeButton","grey","TransitionsModal","children","disableBackdropClick","disableEscapeKeyDown","showCloseButton","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","aria-label","fontWeight","shadows","labelAndCard","okayButton","SeeTheFutureDialog","seeTheFutureCards","overflowX","gridTemplateColumns","gridGap","gridAutoColumns","gridAutoRows","CardSelectorDialog","cardSelectorCards","showBackCard","body","label","withDefuse","sliderWrapper","sliderLabel","withoutDefuse","ExplodingPuppyDialog","hasDefuse","numberOfDeckCards","onClickSpectate","onClickHideExplodingPuppy","selectedIdx","setSelectedIdx","Slider","defaultValue","valueLabelFormat","valueLabelDisplay","step","min","max","onChangeCommitted","avatar","userAvatar","GameResultDialog","result","userRankText","showEXPResultModal","setShowEXPResultModal","BorderLinearProgress","colorPrimary","type","bar","exp","plusExp","level","rank","plusRank","curExp","setCurExp","curPlusExp","setCurPlusExp","plusExpPerTime","curLevel","setCurLevel","getMaxExp","timer","setInterval","clearInterval","rankText","nextRank","getRankText","profileImgUrl","variant","rootClickable","rootCurrentTurn","cardsection","cardcontainer","playerName","paddingLeft","whiteSpace","playerNameCurrentTurn","dead","cardList","nameAndAvatar","getNthCardStyle","Otherhand","clickable","numberOfCards","isDead","currentTurn","numberofcards","tmp","Array","gencard","topSection","middleSection","bottomSection","middlePlayerSection","playArea","topPlayerWrapper","middlePlayerWrapper","cardWrapper","logWrapper","logsList","logItem","borderBottom","cardLeft","bottom","deck","usedCard","backdrop","timeLeft","timeLeftBelowFiveSeconds","exitButton","Game","drawCard","createCustomRoom","joinCustomRoom","startGame","getPropsFromUserId","explodeId","insertExplodingPuppy","seeTheFutureId","closeSeeTheFutureDialog","gameLose","topDiscardPile","isSelectingPlayerId","selectPlayer","setSelectedCardIdx","showCardSelectorBackCard","userCards","handleUseNope","countDownTime","newCountDown","handleCompleteNopeCountdown","logs","handleExit","userProgress","isMyTurn","setIsMyTurn","isSelectingPlayer","users","firstUser","splice","usersToRender","getUsersToRender","getTopPlayer","getMiddlePlayer","handleDrawCard","date","renderer","hours","minutes","seconds","completed","onComplete","logItems","paddingButtom","element","document","getElementById","scrollTop","scrollHeight","updateLogsScroll","visibility","cardsIdx","selelctedCardIdx","exit","allSelectableCards","Object","values","Gameplay","userIdx","findUserIdx","createdTime","leftCardNumber","nextTurnLeft","discardPile","isNoped","getUserCard","userData","curIdx","useCard","selectFavorCard","targetId","useCommon2","chooseTargetCard","alert","selectCommon2","targetCardIdx","targetCard","useCommon3","selectCommon3","useCommon5","selectCommon5","selectCardIdx","drawExplodingPuppy","seeTheFutreCard","usingEffectCard","selectedCardIdx","favorCardIdx","second","Date","now","cardUserId","addLogs","getUserNameByUserId","getUser","Promise","resolve","reject","get","then","res","catch","err","error","setUserProgress","a","resp","updateUserProgress","maxExp","newUserProgress","match","params","newNextUserId","newNextTurnLeft","newCardSelectorId","newUserData","usersId","usersName","alreadyJoin","profileImgUrls","nextUserName","usersCard","usingCard","newUserCards","targetIdx","randomCardIdx","userCard","newUserCard","defuseIdx","favorCard","attackCard","skipCard","newTargetId","targetUserName","reverse","AuthGaurd","useStlyes","the","backgroundImage","maxHeight","googleButton","loginButton","transform","loadingScreen","loadingContent","gradien1","transitionDelay","gradien2","gradien3","gradien4","gradien5","Auth","clientId","GOOGLE_CLIENT_ID","loading","setLoading","enqueueSnackbar","useSnackbar","onLoginSuccess","setLoginSession","loginData","googleAuthen","profile","loginType","imageUrl","getImageUrl","snsId","getId","getName","post","onSignIn","googleUser","getBasicProfile","accessToken","responseFacebook","response","picture","url","slide","appId","render","renderProps","fields","callback","buttonText","onSuccess","onFailure","cookiePolicy","Authen","maxSnack","SOCKET_ENDPOINT","REACT_APP_BACKEND_SOCKET","MATCHMAKING_SOCKET_ENDPOINT","MATCHMAKING_SOCKET","socketIOClient","routesConfig","exact","path","component","lazy","guard","rest","routes","Routes","renderRoutes","fallback","route","Guard","Fragment","Layout","layout","createBrowserHistory","App","Boolean","location","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1950f023.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar-boy.d3f0e87b.svg\";","module.exports = __webpack_public_path__ + \"static/media/common_1.fef40772.png\";","module.exports = __webpack_public_path__ + \"static/media/common_2.0f3b7a73.png\";","module.exports = __webpack_public_path__ + \"static/media/common_3.2c53c57f.png\";","module.exports = __webpack_public_path__ + \"static/media/common_4.1a151eb6.png\";","module.exports = __webpack_public_path__ + \"static/media/common_5.230074df.png\";","module.exports = __webpack_public_path__ + \"static/media/attack.8c0524d7.png\";","module.exports = __webpack_public_path__ + \"static/media/skip.7d3262fc.png\";","module.exports = __webpack_public_path__ + \"static/media/see_the_future.52acf1f7.png\";","module.exports = __webpack_public_path__ + \"static/media/favor.50f3270a.png\";","module.exports = __webpack_public_path__ + \"static/media/defuse.cc85f0f6.png\";","module.exports = __webpack_public_path__ + \"static/media/nope.4d48a187.png\";","module.exports = __webpack_public_path__ + \"static/media/shuffle.6753d66c.png\";","module.exports = __webpack_public_path__ + \"static/media/bomb.832a9df8.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAvVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyMjI8PDw/Pz9DQ0NZWVlbW1tjY2NpaWlra2uGhoaZmZmZmZmampqnp6e6urq+vr7KysrKysrKysrQ0NDX19fY2NjY2Njb29vi4uLh4eHi4uLi4uLm5ubn5+fr6+vs7Ozr6+vu7u7y8vL///+Yyqm5AAAAPXRSTlMAAQIDBAUHCAkKERIaGxweHycoKSotLi8xMjM9QEFBSElNTk9dZmdocYWJmZqbo7GxsrjIycrM1dfh5uju5cJwhAAAAAFiS0dEPklkAOMAAAF8SURBVEjHrZbZUsJAEEWbIItsiRFM5oi7gLuiLG79/7/lQyigINtMeR5TdWpmOjPdV2RNtR2EkWEPE4VBuyr7NIKYHOKgviN4PUMBpudtG/U+JQhrG+MwohSD5nqNkgYMVut4fYDJdJbLdAxwnJynB/CshTwDdEREGgaYaAnGQFwTkQBgWkaZAvgi1Rhgrqrv9zm8q+ocIK5KG4CFqj7k1epBVRcAtJJ92SiBhLZKKFGWcn6RrkRiMpTh8usyVTFCujJcqm47G4UM5fxTVfXDQkmM76vNl7vZbPaSowyXqqo/1+nFS1NWxg2llQIjRUnO8Xt7tsdphpKskUpGxXKMf1QcNuZyfJciu/xKlwvjci1dLn/+E3N4yA7twqEpWbc+36XBerZt3LMZFm9JSxapG2BURhkBpr4efI/FxhNANxmvIcD4NX+8vo4AwkoykmuDskP8ZB0WmgPbqCBycGQbSEQqnbgw9nQrO1mp5luGKxERr+VnRTi/tRWs/gDKgUXW5vw5RwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/shibaBackground.9cea3dbd.svg\";","module.exports = __webpack_public_path__ + \"static/media/pets.d7e6e7d2.jpg\";","import React, { useEffect } from \"react\";\r\nimport NProgress from \"nprogress\";\r\nimport { Box, LinearProgress, makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    alignItems: \"center\",\r\n    backgroundColor: theme.palette.background.default,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n    justifyContent: \"center\",\r\n    minHeight: \"100%\",\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nfunction LoadingScreen() {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    NProgress.start();\r\n\r\n    return () => {\r\n      NProgress.done();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Box width={400}>\r\n        <LinearProgress />\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingScreen;\r\n","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction Redirect({ to }) {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    history.push(to);\r\n    history.go(0);\r\n  }, []);\r\n\r\n  return <div></div>;\r\n}\r\nexport default Redirect;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport classNames from \"classnames\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    padding: \"16px\",\r\n    borderRadius: \"8px\",\r\n    border: \"solid 2px black\",\r\n    cursor: \"pointer\",\r\n    boxShadow: \"4px 4px 4px rgba(0, 0, 0, 0.5)\",\r\n  },\r\n  disabledButton: {\r\n    cursor: \"not-allowed\",\r\n    backgroundColor: \"#9E9E9E !important\",\r\n  },\r\n  primaryButton: {\r\n    backgroundColor: \"#FF9AC5\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#FF6D9F\",\r\n    },\r\n  },\r\n  secondaryButton: {\r\n    backgroundColor: \"#B6C5E0\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#96AED9\",\r\n    },\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  icon: {\r\n    height: \"24px\",\r\n  },\r\n  text: {\r\n    textAlign: \"center\",\r\n    fontFamily: \"Roboto\",\r\n    fontSize: \"24px\",\r\n    color: \"white\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n}));\r\n\r\nexport default function Button(props) {\r\n  const classes = useStyles();\r\n  const {\r\n    // icon to render on the button using <img>\r\n    icon,\r\n    // icon position (releted to text) in the button: \"left\" / \"right\" / \"top\" / \"buttom\"\r\n    // undefined -> \"left\"\r\n    iconPosition,\r\n    // string\r\n    text,\r\n    // \"primary\" -> pink / \"secondary\" -> blue\r\n    // undefined -> \"primary\"\r\n    style,\r\n    // onClick() function\r\n    onClick,\r\n    // determine if the button is disable\r\n    disabled,\r\n    // additional className, used for define size and/or override any style coded here\r\n    className,\r\n  } = props;\r\n  let contentStyle, iconStyle;\r\n  switch (iconPosition) {\r\n    case \"left\":\r\n      contentStyle = { flexDirection: \"row\" };\r\n      iconStyle = { marginRight: \"8px\" };\r\n      break;\r\n    case \"right\":\r\n      contentStyle = { flexDirection: \"row-reverse\" };\r\n      iconStyle = { marginLeft: \"8px\" };\r\n      break;\r\n    case \"top\":\r\n      contentStyle = { flexDirection: \"column\" };\r\n      iconStyle = { marginBottom: \"8px\" };\r\n      break;\r\n    case \"buttom\":\r\n      contentStyle = { flexDirection: \"column-reverse\" };\r\n      iconStyle = { marginTop: \"8px\" };\r\n      break;\r\n    default:\r\n      contentStyle = { flexDirection: \"row\" };\r\n      iconStyle = { marginRight: \"8px\" };\r\n      break;\r\n  }\r\n  return (\r\n    <div\r\n      onClick={!disabled ? onClick : undefined}\r\n      disabled={disabled}\r\n      className={classNames(\r\n        classes.button,\r\n        { [classes.disabledButton]: !!disabled },\r\n        { [classes.primaryButton]: style === \"primary\" || !style },\r\n        { [classes.secondaryButton]: style === \"secondary\" },\r\n        className\r\n      )}\r\n    >\r\n      <div className={classes.content} style={contentStyle}>\r\n        {icon && <img src={icon} className={classes.icon} style={iconStyle} />}\r\n        <div className={classes.text}>{text}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Tooltip,\r\n  Grow,\r\n  TextField,\r\n  IconButton,\r\n  InputAdornment,\r\n  Dialog,\r\n} from \"@material-ui/core\";\r\nimport Button from \"components/Button\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst usestyle = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"600px\",\r\n    backgroundColor: \"#465A74\",\r\n    padding: \"30px\",\r\n  },\r\n  Button: {\r\n    // height: \"128px\",\r\n    // maxHeight: \"128px\",\r\n    padding: \"50px 0px 50px 0px\",\r\n    position: \"center\",\r\n  },\r\n  text: {\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n}));\r\n\r\nfunction ModeDialog({ open, onClose, customButton, rankButton }) {\r\n  const classes = usestyle();\r\n  // console.log(\"open\",openDialog)\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} fullWidth={true} maxWidth={\"lg\"}>\r\n      <Grid container className={classes.root}>\r\n        <CloseIcon\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"16px\",\r\n            right: \"24px\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n            color: \"#FFF\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={handleClose}\r\n        ></CloseIcon>\r\n        <Grid item container style={{ justifyContent: \"center\" }}>\r\n          <Typography\r\n            className={classes.text}\r\n            style={{\r\n              fontSize: \"48px\",\r\n            }}\r\n          >\r\n            Mode\r\n          </Typography>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          container\r\n          direction=\"row\"\r\n          style={{ justifyContent: \"center\" }}\r\n        >\r\n          <Grid item xs=\"2\">\r\n            <Button\r\n              text=\"Rank\"\r\n              className={classes.Button}\r\n              style=\"primary\"\r\n              onClick={rankButton}\r\n            ></Button>\r\n          </Grid>\r\n          <Grid item xs=\"2\" style={{ marginLeft: \"100px\" }}>\r\n            <Button\r\n              text=\"Custom\"\r\n              className={classes.Button}\r\n              style=\"secondary\"\r\n              onClick={customButton}\r\n            ></Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default ModeDialog;\r\n","import React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Tooltip,\r\n  Grow,\r\n  TextField,\r\n  IconButton,\r\n  InputAdornment,\r\n  Dialog,\r\n} from \"@material-ui/core\";\r\nimport Button from \"components/Button\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst usestyle = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"600px\",\r\n    backgroundColor: \"#465A74\",\r\n    padding: \"30px\",\r\n  },\r\n  Button: {\r\n    // height: \"128px\",\r\n    // maxHeight: \"128px\",\r\n    padding: \"50px 0px 50px 0px\",\r\n    position: \"center\",\r\n  },\r\n  text: {\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n}));\r\n\r\nfunction CustomDialog({ open, onClose }) {\r\n  const classes = usestyle();\r\n  // console.log(\"open\",openDialog)\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} fullWidth={true} maxWidth={\"lg\"}>\r\n      <Grid container className={classes.root}>\r\n        <CloseIcon\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"16px\",\r\n            right: \"24px\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n            color: \"#FFF\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={handleClose}\r\n        ></CloseIcon>\r\n        <Grid item container style={{ justifyContent: \"center\" }}>\r\n          <Typography\r\n            className={classes.text}\r\n            style={{\r\n              fontSize: \"48px\",\r\n            }}\r\n          >\r\n            Custom Mode\r\n          </Typography>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          container\r\n          direction=\"row\"\r\n          style={{ justifyContent: \"center\" }}\r\n        >\r\n          <Grid item xs=\"2\">\r\n            <Button\r\n              text=\"Create Room\"\r\n              className={classes.Button}\r\n              style=\"primary\"\r\n            ></Button>\r\n          </Grid>\r\n          <Grid item xs=\"2\" style={{ marginLeft: \"100px\" }}>\r\n            <Button\r\n              text=\"Join Room\"\r\n              className={classes.Button}\r\n              style=\"secondary\"\r\n            ></Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default CustomDialog;\r\n","import React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Tooltip,\r\n  Grow,\r\n  TextField,\r\n  IconButton,\r\n  InputAdornment,\r\n  Dialog,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport Button from \"components/Button\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport PetsIcon from \"@material-ui/icons/Pets\";\r\nimport Pet from \"../../../pets.jpg\";\r\n\r\nconst usestyle = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"600px\",\r\n    backgroundColor: \"#465A74\",\r\n    padding: \"30px\",\r\n  },\r\n  Button: {\r\n    // height: \"128px\",\r\n    // maxHeight: \"128px\",\r\n    padding: \"50px 0px 50px 0px\",\r\n    position: \"center\",\r\n  },\r\n  text: {\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n}));\r\n\r\nfunction RankDialog({ open, onClose, time, settime }) {\r\n  const classes = usestyle();\r\n  // console.log(\"open\",open)\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setTimeout(() => settime(time + 1), 1000);\r\n    }\r\n    console.log(\"open\", open);\r\n  }, [time, open]);\r\n\r\n  const handleClose = () => {\r\n    settime(0);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} fullWidth={true} maxWidth={\"lg\"}>\r\n      <Grid container className={classes.root}>\r\n        <CloseIcon\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"16px\",\r\n            right: \"24px\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n            color: \"#FFF\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={handleClose}\r\n        ></CloseIcon>\r\n        {/* <PetsIcon\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: \"28%\",\r\n                        right: \"38%\",\r\n                        width: \"300px\",\r\n                        height: \"300px\",\r\n                        color: \"#DADADA\",\r\n                    }}\r\n                ></PetsIcon> */}\r\n        <Grid\r\n          container\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"56%\",\r\n            left: \"45%\",\r\n            textAlign: \"center\",\r\n            width: \"200px\",\r\n            // backgroundImage:`url(${Pet})`\r\n          }}\r\n        >\r\n          {/* <img src={Pet}></img> */}\r\n          <Typography\r\n            className={classes.text}\r\n            style={{\r\n              fontSize: \"48px\",\r\n            }}\r\n          >\r\n            {time}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item container style={{ justifyContent: \"center\" }}>\r\n          <Typography\r\n            className={classes.text}\r\n            style={{\r\n              fontSize: \"48px\",\r\n            }}\r\n          >\r\n            Waiting Time\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default RankDialog;\r\n","import React from \"react\";\r\n\r\nexport const ShibaFoot = (props) => {\r\n  return (\r\n    <svg\r\n      width=\"150\"\r\n      height=\"150\"\r\n      viewBox=\"0 0 150 150\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      {...props}\r\n    >\r\n      <path\r\n        fill-rule=\"evenodd\"\r\n        clip-rule=\"evenodd\"\r\n        d=\"M56.25 15.6112C47.6206 15.6112 40.625 22.6068 40.625 31.2362C40.625 39.8657 47.6206 46.8612 56.25 46.8612C64.8795 46.8612 71.875 39.8657 71.875 31.2362C71.875 22.6068 64.8795 15.6112 56.25 15.6112ZM28.125 40.6112C19.4955 40.6112 12.5 47.6068 12.5 56.2362C12.5 64.8657 19.4955 71.8612 28.125 71.8612C36.7544 71.8612 43.75 64.8657 43.75 56.2362C43.75 47.6068 36.7544 40.6112 28.125 40.6112ZM78.125 31.2362C78.125 22.6068 85.1206 15.6112 93.75 15.6112C102.379 15.6112 109.375 22.6068 109.375 31.2362C109.375 39.8657 102.379 46.8612 93.75 46.8612C85.1206 46.8612 78.125 39.8657 78.125 31.2362ZM121.875 40.6112C113.246 40.6112 106.25 47.6068 106.25 56.2362C106.25 64.8657 113.246 71.8612 121.875 71.8612C130.504 71.8612 137.5 64.8657 137.5 56.2362C137.5 47.6068 130.504 40.6112 121.875 40.6112ZM102.774 83.1465C104.584 85.2801 106.423 87.4477 108.375 89.7362C108.862 90.2231 109.355 90.7132 109.853 91.2069C117.717 99.0147 126.51 107.744 124.687 119.736C122.875 126.049 118.312 132.424 110.125 134.236C108.025 134.639 103.807 134.088 98.355 133.377C91.96 132.542 83.8665 131.486 75.4999 131.486H74.3749C66.0787 131.486 58.0511 132.543 51.6816 133.381C46.1509 134.109 41.8704 134.672 39.75 134.236C31.5625 132.424 27 126.111 25.1875 119.736C23.4248 107.809 32.2119 99.0852 40.0734 91.2805C40.5745 90.783 41.0719 90.2893 41.5625 89.7987C45.0879 85.7124 48.2282 82.0112 51.4606 78.2015C53.271 76.0677 55.1103 73.8999 57.0625 71.6112C59.9999 68.2362 63.6249 64.8612 67.9999 63.3612C68.6874 63.1112 69.3749 62.9237 70.0624 62.7987C71.6874 62.4862 73.3749 62.4862 74.9999 62.4862C76.6249 62.4862 78.3124 62.4862 79.8749 62.7362C80.5624 62.8612 81.2499 63.0487 81.9374 63.2987C86.3124 64.7987 89.9999 68.1737 92.8749 71.5487C96.4006 75.6352 99.541 79.3365 102.774 83.1465Z\"\r\n        fill-opacity=\"0.54\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const LogoutIcon = (props) => {\r\n  return (\r\n    <svg\r\n      width=\"70\"\r\n      height=\"70\"\r\n      viewBox=\"0 0 70 70\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      {...props}\r\n    >\r\n      <path\r\n        d=\"M70 54C70 62.8366 62.8366 70 54 70L16 70C7.16344 70 6.26248e-07 62.8366 1.39876e-06 54L4.72083e-06 16C5.49334e-06 7.16345 7.16345 9.76544e-06 16 1.0538e-05L54 1.386e-05C62.8366 1.46325e-05 70 7.16346 70 16L70 54Z\"\r\n        fill=\"black\"\r\n        fill-opacity=\"0.2\"\r\n      />\r\n      <path\r\n        fill-rule=\"evenodd\"\r\n        clip-rule=\"evenodd\"\r\n        d=\"M55.4167 61.25L14.5833 61.25C11.375 61.25 8.75 58.625 8.75 55.4167L8.75 14.5833C8.75 11.375 11.375 8.75001 14.5833 8.75001L55.4167 8.75001C58.6542 8.75002 61.25 11.375 61.25 14.5833L61.25 26.25L55.4167 26.25L55.4167 14.5833L14.5833 14.5833L14.5833 55.4167L55.4167 55.4167L55.4167 43.75L61.25 43.75L61.25 55.4167C61.25 58.625 58.6542 61.25 55.4167 61.25ZM36.4583 20.4167L40.5708 24.5292L33.0458 32.0833L61.25 32.0833L61.25 37.9167L33.0458 37.9167L40.5708 45.4708L36.4583 49.5833L21.875 35L36.4583 20.4167Z\"\r\n        fill=\"#F2F2F2\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n","import React, { useRef, useEffect, useState, useMemo } from \"react\";\r\nimport {\r\n  Dialog,\r\n  Slide,\r\n  Grid,\r\n  makeStyles,\r\n  Typography,\r\n  IconButton,\r\n  InputBase,\r\n  ClickAwayListener,\r\n} from \"@material-ui/core\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { ShibaFoot } from \"./components/icon\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport avatarBoy from \"image/avatar-boy.svg\";\r\nimport clsx from \"clsx\";\r\nimport axios from \"axios\";\r\n\r\nconst ENDPOINT = process.env.REACT_APP_BACKEND_API || \"http://localhost:10000\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // \"& .MuiDialog-paper\" : {\r\n    //   background:\"red\",\r\n    // }\r\n  },\r\n  container: {\r\n    background: \"#465A74\",\r\n    borderRadius: \"16px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    // alignContent:\"center\",\r\n    // width:\"800px\",\r\n  },\r\n  detailImage: {\r\n    borderRadius: \"100%\",\r\n    // borderRadius:\"16px\",\r\n    width: \"200px\",\r\n  },\r\n  detailContent: {\r\n    // minWidth: \"180px\",\r\n    background: \"#B6C5E0\",\r\n    margin: \"0px 32px 16px 16px\",\r\n    padding: \"16px 16px 16px 16px\",\r\n    borderRadius: \"16px\",\r\n    border: \"3px solid black\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    // maxHeight:\"100px\",\r\n  },\r\n  detailText: {\r\n    fontFamily: \"Kanit\",\r\n    fontSize: \"32px\",\r\n    lineHeight: \"48px\",\r\n    transition: \"all 0.2s ease-in-out\",\r\n  },\r\n  dialogPaper: {\r\n    background: \"none\",\r\n    maxWidth: \"1800px\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Kanit\",\r\n    fontSize: \"48px\",\r\n    // lineHeight:\"80px\",\r\n    color: \"white\",\r\n    margin: \"16px auto 0px 297px\",\r\n  },\r\n  editButton: {\r\n    padding: \"8px\",\r\n    // marginLeft:\"256px\",\r\n    height: \"48px\",\r\n    width: \"48px\",\r\n  },\r\n  logoutIcon: {\r\n    color: \"white\",\r\n    fontSize: \"32px\",\r\n  },\r\n  contentResponsive: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n\r\nfunction ProfileDialog({ open, handleClose, profileResouce }) {\r\n  const classes = useStyles();\r\n  const offsetTitle = useRef(0);\r\n  const [footColor, setFootColor] = useState(\"#000000\");\r\n  const history = useHistory();\r\n  const [nameEditing, setNameEditing] = useState(false);\r\n  const [userName, setUsername] = useState(profileResouce.userName);\r\n\r\n  const onLogout = () => {\r\n    sessionStorage.clear();\r\n    history.push(\"/home\");\r\n    history.go(0);\r\n  };\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  const handleChangeName = (name) => {\r\n    setUsername(name);\r\n    sessionStorage.setItem(\"userName\", name);\r\n  };\r\n\r\n  const Title = () => (\r\n    <Grid>\r\n      <Typography className={classes.title}>Profile</Typography>\r\n    </Grid>\r\n  );\r\n\r\n  const randomColor = () => {\r\n    let color =\r\n      \"#\" + ((Math.random() * 0xffffff) << 0).toString(16).padStart(6, \"0\");\r\n    setFootColor(color);\r\n  };\r\n\r\n  const ProfileImage = React.memo(() => (\r\n    <img className={classes.detailImage} src={avatarBoy} alt=\"alternatetext\" />\r\n  ));\r\n\r\n  const isListenClickAway = () => {\r\n    return nameEditing ? \"onClick\" : false;\r\n  };\r\n\r\n  const handleUserNameChange = () => {\r\n    setNameEditing(false);\r\n    const userId = sessionStorage.getItem(\"userId\");\r\n    const loginType = sessionStorage.getItem(\"loginType\");\r\n    if (loginType !== \"dev\")\r\n      axios.patch(`${ENDPOINT}/users/changeUserName/${userId}`, { userName });\r\n    else {\r\n      setUsername(userId);\r\n    }\r\n  };\r\n\r\n  const detail = () => (\r\n    <Grid container>\r\n      <Grid\r\n        className={classes.contentResponsive}\r\n        style={{ padding: \"16px 32px 32px 32px\", marginTop: \"16px\" }}\r\n      >\r\n        <ProfileImage />\r\n      </Grid>\r\n      <Grid className={clsx(classes.detailContent, classes.contentResponsive)}>\r\n        <Grid container>\r\n          <Typography className={classes.detailText}>Name : </Typography>\r\n          <ClickAwayListener\r\n            onClickAway={() => {\r\n              handleUserNameChange();\r\n            }}\r\n            mouseEvent={isListenClickAway()}\r\n            touchEvent={false}\r\n          >\r\n            <InputBase\r\n              className={classes.detailText}\r\n              style={{ margin: \"0px 0 0 8px\" }}\r\n              value={userName}\r\n              disabled={!nameEditing}\r\n              onChange={(e) => handleChangeName(e.target.value)}\r\n              onKeyPress={(e) => {\r\n                if (e.key === \"Enter\") handleUserNameChange();\r\n              }}\r\n              onDoubleClick={() => setNameEditing(true)}\r\n            ></InputBase>\r\n          </ClickAwayListener>\r\n          <IconButton\r\n            className={classes.editButton}\r\n            style={{ alignSelf: \"flex-end\" }}\r\n            onClick={() =>\r\n              setNameEditing((status) => {\r\n                if (status) {\r\n                  handleUserNameChange();\r\n                  return false;\r\n                }\r\n                return true;\r\n              })\r\n            }\r\n          >\r\n            <EditIcon style={{ fontSize: \"32px\" }} />\r\n          </IconButton>\r\n        </Grid>\r\n        <Grid container>\r\n          <Grid item xs={8}>\r\n            <Typography\r\n              className={classes.detailText}\r\n            >{`Rank ${profileResouce.userRank}`}</Typography>\r\n            <Typography\r\n              className={classes.detailText}\r\n            >{`Level ${profileResouce.userLevel}`}</Typography>\r\n            <Typography className={classes.detailText}>{`Win rate ${Number(\r\n              profileResouce.winRate\r\n            ).toFixed(2)}%`}</Typography>\r\n            <Typography\r\n              className={classes.detailText}\r\n            >{`Exp ${profileResouce.userExp}`}</Typography>\r\n          </Grid>\r\n          <Grid item xs={4} style={{ display: \"flex\" }}>\r\n            <ShibaFoot\r\n              style={{\r\n                alignSelf: \"flex-end\",\r\n                fill: footColor,\r\n                cursor: \"pointer\",\r\n                margin: \"0px 0 0 32px\",\r\n              }}\r\n              onClick={randomColor}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        {/* <ShibaFoot\r\n          style={{ alignSelf: \"flex-end\", fill: footColor, cursor: \"pointer\", transform:\"scale(0.8)\" }}\r\n          onClick={randomColor}\r\n        /> */}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n  const Logout = () => (\r\n    <Grid container style={{ marginTop: \"-32px\" }}>\r\n      <IconButton\r\n        style={{ marginLeft: \"32px\", marginBottom: \"16px\" }}\r\n        onClick={onLogout}\r\n      >\r\n        <ExitToAppIcon className={classes.logoutIcon} />\r\n      </IconButton>\r\n      <Typography\r\n        className={classes.detailText}\r\n        onClick={onLogout}\r\n        style={{\r\n          marginTop: \"4px\",\r\n          // marginLeft: \"16px\",\r\n          fontSize: \"24px\",\r\n          color: \"white\",\r\n          cursor: \"pointer\",\r\n        }}\r\n      >{`Logout`}</Typography>\r\n    </Grid>\r\n  );\r\n\r\n  const PaperProps = {\r\n    paper: classes.dialogPaper,\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      TransitionComponent={Transition}\r\n      onClose={handleClose}\r\n      className={classes.root}\r\n      classes={PaperProps}\r\n    >\r\n      <Grid className={classes.container}>\r\n        <Title />\r\n        {detail()}\r\n        <Logout />\r\n      </Grid>\r\n    </Dialog>\r\n  );\r\n}\r\nexport default ProfileDialog;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Grid, Typography, makeStyles, Avatar } from \"@material-ui/core\";\r\nimport ProfileDialog from \"./ProfileDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // background:\"yellow\",\r\n    height: \"100%\",\r\n    cursor: \"pointer\",\r\n    // background: `url(${profileBox})  no-repeat` ,\r\n  },\r\n  profileImage: {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n  },\r\n  profileText: {\r\n    fontFamily: \"Kanit\",\r\n    // fontWeight:600,\r\n    fontSize: \"24px\",\r\n  },\r\n  rectDecor1: {\r\n    position: \"fixed\",\r\n    background: \"#FF9AC5\",\r\n    width: \"56px\",\r\n    height: \"24px\",\r\n    border: \"4px solid black\",\r\n    borderRadius: \"16px\",\r\n    left: \"20px\",\r\n    top: \"8%\",\r\n  },\r\n  rectDecor2: {\r\n    position: \"fixed\",\r\n    background: \"#FF9AC5\",\r\n    width: \"56px\",\r\n    height: \"24px\",\r\n    border: \"4px solid black\",\r\n    borderRadius: \"16px\",\r\n    left: \"20px\",\r\n    top: \"12%\",\r\n  },\r\n}));\r\n\r\nfunction Profile() {\r\n  const classes = useStyles();\r\n  // const imgSrc = sessionStorage.getItem(\"profileImgUrl\")\r\n  // const userName = sessionStorage.getItem(\"userName\")\r\n  // const userRank = sessionStorage.getItem(\"userRank\")\r\n  // const userLevel = sessionStorage.getItem(\"userLevel\")\r\n  const profileResouce = {\r\n    imgSrc: sessionStorage.getItem(\"profileImgUrl\"),\r\n    userName: sessionStorage.getItem(\"userName\"),\r\n    userRank: sessionStorage.getItem(\"userRank\"),\r\n    userLevel: sessionStorage.getItem(\"userLevel\"),\r\n    userExp: sessionStorage.getItem(\"userExp\"),\r\n    winRate: sessionStorage.getItem(\"winRate\"),\r\n  };\r\n  const [openProfile, setOpenProfile] = useState(false);\r\n\r\n  const handleCloseDialog = (e) => {\r\n    setOpenProfile(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(openProfile);\r\n  }, [openProfile]);\r\n\r\n  const handleOpenDialog = (e) => {\r\n    setOpenProfile(true);\r\n  };\r\n\r\n  return (\r\n    <Grid className={classes.root} container>\r\n      <Grid\r\n        container\r\n        item\r\n        xs={1}\r\n        alignItems=\"center\"\r\n        direction=\"column\"\r\n        justify=\"center\"\r\n      >\r\n        <Grid className={classes.rectDecor1}></Grid>\r\n        <Grid className={classes.rectDecor2}></Grid>\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        item\r\n        xs={4}\r\n        alignItems=\"center\"\r\n        justify=\"center\"\r\n        onClick={handleOpenDialog}\r\n      >\r\n        <Avatar className={classes.profileImage} src={profileResouce.imgSrc} />\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        item\r\n        xs={7}\r\n        direction=\"column\"\r\n        justify=\"center\"\r\n        onClick={handleOpenDialog}\r\n      >\r\n        <Typography className={classes.profileText}>\r\n          {profileResouce.userName}\r\n        </Typography>\r\n        <Typography\r\n          className={classes.profileText}\r\n        >{`Rank ${profileResouce.userRank}`}</Typography>\r\n        <Typography\r\n          className={classes.profileText}\r\n        >{`Level ${profileResouce.userLevel}`}</Typography>\r\n      </Grid>\r\n      <ProfileDialog\r\n        open={openProfile}\r\n        handleClose={handleCloseDialog}\r\n        profileResouce={profileResouce}\r\n      />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport {\r\n  withStyles,\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Tooltip,\r\n  Grow,\r\n  TextField,\r\n  IconButton,\r\n  InputAdornment,\r\n} from \"@material-ui/core\";\r\nimport logo from \"../../shiba-inu.svg\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"components/Button\";\r\nimport ModeDialog from \"./ModeDialog\";\r\nimport CustomDialog from \"./CustomDialog\";\r\nimport RankDialog from \"./RankCustom\";\r\nimport Profile from \"./Profile\";\r\n// import logo from '../logo.svg'\r\n\r\nconst usestyle = (theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    backgroundColor: \"#465A74\",\r\n    padding: \"20px 50px 20px 50px\",\r\n  },\r\n  profileSection: {\r\n    height: \"20vh\",\r\n    backgroundColor: \"#B6C5E0\",\r\n    borderRadius: \"16px\",\r\n    border: \"4px solid black\",\r\n  },\r\n  friendSection: {\r\n    height: \"60vh\",\r\n    backgroundColor: \"#B6C5E0\",\r\n    marginTop: \"50px\",\r\n  },\r\n  mainSection: {\r\n    height: \"calc(100vh-40px)\",\r\n    // backgroundColor: \"#B6C5E0\",\r\n    marginLeft: \"50px\",\r\n  },\r\n  playButton: {\r\n    width: \"128px\",\r\n    alignSelf: \"center\",\r\n  },\r\n  text: {\r\n    fontSize: \"72px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n});\r\n\r\nclass Welcome extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      matchmakingSocket: props.matchmakingSocket,\r\n      openModeDialog: false,\r\n      openCustomDialog: false,\r\n      openRankDialog: false,\r\n      time: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { matchmakingSocket } = this.state;\r\n    matchmakingSocket.on(\"ranked-found\", (data) => {\r\n      console.log(\"ranked-found\");\r\n      console.log(data);\r\n    });\r\n  }\r\n\r\n  joinRoom100001 = () => {\r\n    // todo:\r\n    // var userIdPlaceholder = Math.floor(100000 + Math.random() * 900000);\r\n    // const userId = prompt(\"Please enter your user Id\", userIdPlaceholder);\r\n    // window.sessionStorage.setItem(\"userId\", userId);\r\n  };\r\n\r\n  onLogout = () => {\r\n    const history = useHistory();\r\n    sessionStorage.setItem(\"userId\", null);\r\n    history.push(\"/home\");\r\n    history.go(0);\r\n  };\r\n\r\n  handleClickPlayButton = () => {\r\n    console.log(\"click\");\r\n    this.setState({ openModeDialog: true });\r\n  };\r\n\r\n  handleClickCustomButton = () => {\r\n    console.log(\"click\");\r\n    this.setState({ openCustomDialog: true });\r\n  };\r\n\r\n  handleClickRankButton = () => {\r\n    // console.log(\"click\");\r\n    const { matchmakingSocket } = this.state;\r\n    const userId = sessionStorage.getItem(\"userId\");\r\n    matchmakingSocket.emit(\"search-ranked\", { userId });\r\n    this.setState({ time: 0, openRankDialog: true });\r\n  };\r\n\r\n  closeModeDialog = () => {\r\n    this.setState({ openModeDialog: false });\r\n  };\r\n\r\n  closeCustomDialog = () => {\r\n    this.setState({ openCustomDialog: false });\r\n  };\r\n\r\n  closeRankDialog = () => {\r\n    const { matchmakingSocket } = this.state;\r\n    const userId = sessionStorage.getItem(\"userId\");\r\n    matchmakingSocket.emit(\"quit-search-ranked\", { userId });\r\n    this.setState({ openRankDialog: false });\r\n  };\r\n\r\n  settime = (time) => {\r\n    this.setState({ time });\r\n  };\r\n\r\n  render() {\r\n    // const userId = sessionStorage.getItem(\"userId\");\r\n\r\n    // const classes = usestyle();\r\n    // const history = useHistory();\r\n    const { classes } = this.props;\r\n    const {\r\n      openModeDialog,\r\n      openCustomDialog,\r\n      openRankDialog,\r\n      time,\r\n    } = this.state;\r\n    // const [openModeDialog, setModeDialog] = useState(false);\r\n    // const [openCustomDialog, setCustomDialog] = useState(false);\r\n    // const [openRankDialog, setRankDialog] = useState(false);\r\n    // const [time, settime] = useState(1);\r\n\r\n    return (\r\n      <Grid container direction=\"row\" className={classes.root}>\r\n        <Grid item container direction=\"row\" xs=\"3\">\r\n          <Grid item xs=\"12\" className={classes.profileSection}>\r\n            {/* <Typography style={{ textAlign: \"center\" }}>Profile</Typography> */}\r\n            <Profile />\r\n          </Grid>\r\n          <Grid item xs=\"12\" className={classes.friendSection}>\r\n            <Typography style={{ textAlign: \"center\" }}>Room</Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item xs=\"5\" className={classes.mainSection}>\r\n          <Grid\r\n            item\r\n            container\r\n            style={{ justifyContent: \"center\", paddingTop: \"15vh\" }}\r\n          >\r\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n          </Grid>\r\n          <Typography\r\n            className={classes.text}\r\n            style={{\r\n              textAlign: \"center\",\r\n              // color: \"#ffffff\",\r\n              // textShadow: \"4px 4px 4px rgba(0, 0, 0, 0.5)\",\r\n              // fontSize: \"72px\",\r\n              marginTop: \"5px\",\r\n            }}\r\n          >\r\n            Exploding puppy\r\n          </Typography>\r\n          <Grid\r\n            container\r\n            style={{ justifyContent: \"center\", marginTop: \"50px\" }}\r\n          >\r\n            <Button\r\n              text=\"Play\"\r\n              className={classes.playButton}\r\n              onClick={this.handleClickPlayButton}\r\n            ></Button>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item xs=\"3\" className={classes.mainSection}>\r\n          <Typography style={{ textAlign: \"center\" }}>Leader Board</Typography>\r\n        </Grid>\r\n        <ModeDialog\r\n          open={openModeDialog}\r\n          onClose={this.closeModeDialog}\r\n          customButton={this.handleClickCustomButton}\r\n          rankButton={this.handleClickRankButton}\r\n        />\r\n        <CustomDialog\r\n          open={openCustomDialog}\r\n          onClose={this.closeCustomDialog}\r\n        />\r\n        <RankDialog\r\n          open={openRankDialog}\r\n          onClose={this.closeRankDialog}\r\n          time={time}\r\n          settime={this.settime}\r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(usestyle)(Welcome);\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Welcome from \"./Welcome\";\r\n\r\nfunction Home(props) {\r\n  const { matchmakingSocket } = props;\r\n  const history = useHistory();\r\n  const handleRedirect = (to) => {\r\n    history.push(to);\r\n    history.go(0);\r\n  };\r\n  return (\r\n    <div>\r\n      <Welcome matchmakingSocket={matchmakingSocket} />\r\n      <span // todo: remove this\r\n        className=\"App-link\"\r\n        onClick={() => handleRedirect(\"/gameplay/100001\")}\r\n      >\r\n        Go to room 100001\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n  return <p>not found this path</p>;\r\n}\r\nexport default NotFound;\r\n","import React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Typography,\r\n  Avatar,\r\n  Tooltip,\r\n  Grow,\r\n  TextField,\r\n  IconButton,\r\n  InputAdornment,\r\n} from \"@material-ui/core\";\r\nimport { roomMessages, privateMessages } from \"./mock\";\r\nimport { Palette } from \"components\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { Type } from \"react-feather\";\r\nimport Redirect from \"components/Redirect\";\r\n\r\n//setting chat size here\r\nvar width = \"300px\";\r\nvar height = \"400px\";\r\nconst spaceBetweenBubbleBox = \"16px\";\r\nconst spaceBubble = \"48px\";\r\nconst spaceChatBoxHeader = \"40px\";\r\nconst spaceChatBoxInput = \"56px\";\r\n\r\n//dont change here\r\nconst chatBoxHeight = `calc(${height} - ${spaceBetweenBubbleBox} - ${spaceBubble})`;\r\nconst chatBoxContainer = `calc(${chatBoxHeight} - ${spaceChatBoxHeader} - ${spaceChatBoxInput})`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"fixed\",\r\n    width: width,\r\n    height: height,\r\n    // background:\"blur(2px)\",\r\n    // background:\"rgba(255,255,255,0.5)\",\r\n    zIndex: 200,\r\n    marginLeft: `calc(100vw - ${width} - 24px)`,\r\n    marginTop: `calc(100vh - ${height} - 24px)`,\r\n    borderRadius: \"8px\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: width,\r\n      height: height,\r\n      marginLeft: `calc(100vw - ${width} - 24px)`,\r\n      marginTop: `calc(100vh - ${height} - 24px)`,\r\n    },\r\n    transition: \"background 0.3s ease-in-out\",\r\n  },\r\n  chatBox: {\r\n    display: \"flex\",\r\n    // background:Palette.blue200,\r\n    \"& ::-webkit-scrollbar\": {\r\n      width: \"4px\",\r\n    },\r\n    \"& ::-webkit-scrollbar-track\": {\r\n      // background: Palette.red100,\r\n      borderRadius: \"8px\",\r\n      width: \"8px\",\r\n      filter: \"blur(4px)\",\r\n      \"-o-filter\": \"blur(4px)\",\r\n      \"-ms-filter\": \"blur(4px)\",\r\n      \"-moz-filter\": \"blur(4px)\",\r\n      \"-webkit-filter\": \"blur(4px)\",\r\n    },\r\n    \"& ::-webkit-scrollbar-thumb \": {\r\n      background: Palette.blue300,\r\n      borderRadius: \"8px\",\r\n      marginRight: \"0 8px 8px 0\",\r\n    },\r\n    \"& ::-webkit-scrollbar-thumb:hover\": {\r\n      background: \"#555\",\r\n    },\r\n    borderRadius: \"8px\",\r\n    height: chatBoxHeight,\r\n    flexDirection: \"column\",\r\n    // background:\"red\",\r\n    // boxShadow: \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n    \"& .chatHeader\": {\r\n      height: spaceChatBoxHeader,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      borderRadius: \"8px 8px 0 0\",\r\n      // background:\"purple\",\r\n      \"& .username\": {\r\n        margin: \"4px 0 4px 0\",\r\n        background: Palette.blue300,\r\n        padding: \"4px 16px\",\r\n        fontSize: \"16px\",\r\n        borderRadius: \"16px\",\r\n        color: Palette.yellow100,\r\n        cursor: \"pointer\",\r\n        boxShadow:\r\n          \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n        width: \"232px\",\r\n      },\r\n      \"& .closeButton\": {\r\n        margin: \"4px 0px 4px auto\",\r\n        background: Palette.blue300,\r\n        // backdropFilter:\"blur(4px)\",\r\n        padding: \"4px 4px\",\r\n        fontSize: \"16px\",\r\n        borderRadius: \"16px\",\r\n        color: Palette.yellow100,\r\n        cursor: \"pointer\",\r\n        boxShadow:\r\n          \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n      },\r\n    },\r\n    \"& .chatContainer\": {\r\n      height: chatBoxContainer,\r\n      borderRadius: \"8px\",\r\n      // display:\"none\",\r\n      // boxShadow:\r\n      //   \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n      background: \"rgba(244,241,222,0.8)\",\r\n      // border:\"2px solid black\",\r\n      backdropFilter: \"blur(4px)\",\r\n      \"& .chatbox\": {\r\n        overflowY: \"scroll\",\r\n        zIndex: -1,\r\n        height: chatBoxContainer,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        \"& .chatboxText\": {\r\n          boxShadow:\r\n            \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n          color: \"black\",\r\n          background: \"white\",\r\n          maxWidth: \"100px\",\r\n          padding: \"2px 16px\",\r\n          borderRadius: \"16px\",\r\n          textOverflow: \"ellipsis\",\r\n          wordWrap: \"break-word\",\r\n        },\r\n        \"& .chatboxAvatar\": {\r\n          width: \"24px\",\r\n          height: \"24px\",\r\n          fontSize: \"12px\",\r\n          boxShadow:\r\n            \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n          background: Palette.blue300,\r\n        },\r\n        \"& .chatboxUsername\": {\r\n          margin: \"1px 0 4px 4px\",\r\n          borderRadius: \"16px\",\r\n          color: \"black\",\r\n        },\r\n      },\r\n    },\r\n    \"& .chatInput\": {\r\n      height: spaceChatBoxInput,\r\n      // background:\"blue\",\r\n      borderRadius: \"0 0 8px 8px\",\r\n      \"& .textfieldWrapper\": {\r\n        background: Palette.blue300,\r\n        borderRadius: \"8px\",\r\n        boxShadow:\r\n          \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n        margin: \"8px 0 0 0px\",\r\n        \"& .textfield\": {\r\n          marginLeft: \"8px\",\r\n          paddingTop: \"4px\",\r\n          width: `calc(${width} - 16px)`,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  chatSelect: {\r\n    // background:Palette.red100,\r\n    borderRadius: \"8px\",\r\n    marginTop: spaceBetweenBubbleBox,\r\n    height: spaceBubble,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row-reverse\",\r\n  },\r\n  chatBubble: {\r\n    cursor: \"pointer\",\r\n    background: Palette.grey100,\r\n    color: \"white\",\r\n    // boxShadow:\"0 2px 4px 0 #888888\",\r\n  },\r\n  divider: {\r\n    height: \"40px\",\r\n    background: Palette.red100,\r\n    width: \"2px\",\r\n    boxShadow:\r\n      \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n  },\r\n  ripple: {\r\n    borderRadius: \"100%\",\r\n    height: \"40px\",\r\n    width: \"40px\",\r\n    margin: \"0px 8px\",\r\n    // boxShadow: \"rgba(149, 157, 165, 0.2) 0px 8px 24px\",\r\n    boxShadow:\r\n      \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\r\n  },\r\n  textfieldInput: {\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\nconst chatRootStyle = (isHover) => {\r\n  if (isHover) {\r\n    return {\r\n      background: \"rgba(255,255,255,0.9)\",\r\n    };\r\n  } else {\r\n    return {\r\n      background: \"rgba(255,255,255,0.3)\",\r\n    };\r\n  }\r\n};\r\nvar thisUserId;\r\n\r\nfunction Chat({\r\n  roomId: thisRoomId,\r\n  socket,\r\n  sendMessageRoom,\r\n  usersData,\r\n  ...rest\r\n}) {\r\n  const classes = useStyles();\r\n  const [isHover, setIsHover] = useState(false);\r\n  const chatStyle = chatRootStyle(isHover);\r\n  const [messageGroup, setMessageGroup] = useState({\r\n    room: {\r\n      messages: [],\r\n    },\r\n    private: {\r\n      messages: privateMessages,\r\n    },\r\n  });\r\n  const [peopleBubbles, setPeopleBubbles] = useState();\r\n  const [showChatbox, setShowChatbox] = useState(false);\r\n  const [currentShowMessage, setCurrentShowMessage] = useState(\"\");\r\n  const [typing, setTyping] = useState(\"\");\r\n  const chatBoxElement = useRef(0);\r\n  const [thisUsername, setUsername] = useState(\"\");\r\n  const [isUserJoined, setIsUserJoined] = useState(false);\r\n\r\n  // const thisUsername = \"bump\";\r\n  // const thisRoomId = 101;\r\n\r\n  // useEffect(() => {\r\n  //   setMessageGroup({\r\n  //     room: {\r\n  //       messages: roomMessages,\r\n  //     },\r\n  //     private: {\r\n  //       messages: privateMessages,\r\n  //     },\r\n  //   });\r\n  // }, []);\r\n\r\n  // useEffect(()=>{\r\n  // var tf = document.getElementById(`room-${thisRoomId}-chat-box`)\r\n  // tf.scrollTop = tf.offsetHeight;\r\n  // console.log(tf)\r\n  //   console.log(messageGroup)\r\n  // },[messageGroup])\r\n\r\n  const pushRoomMessage = (data) => {\r\n    let roomMes = messageGroup.room.messages;\r\n    // console.log(roomMes)\r\n    roomMes.push({\r\n      fromRoomId: thisRoomId,\r\n      fromUsername: data.fromUsername,\r\n      message: data.message,\r\n      fromUserId: data.fromUserId,\r\n    });\r\n    setMessageGroup({\r\n      ...messageGroup,\r\n      ...{ room: { messages: roomMes } },\r\n    });\r\n  };\r\n\r\n  const getMsgKey = (currentShowMessage) => {\r\n    if (currentShowMessage === \"room\") {\r\n      return \"room\";\r\n    } else return \"private\";\r\n  };\r\n\r\n  const filterMsg = (data) => {\r\n    // console.log(\"filterMsg : \",data)\r\n    if (data.fromRoomId) {\r\n      // console.log(\"match room id \")\r\n      return parseInt(data.fromRoomId) === parseInt(thisRoomId) ? true : false;\r\n    } else {\r\n      if (\r\n        data.fromUsername === thisUsername &&\r\n        data.toUsername === currentShowMessage\r\n      ) {\r\n        return true;\r\n      } else if (\r\n        data.fromUsername === currentShowMessage &&\r\n        data.toUsername === thisUsername\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // console.log(usersData);\r\n    if (usersData.length !== 0) {\r\n      thisUserId = sessionStorage.getItem(\"userId\");\r\n      usersData.forEach((user) => {\r\n        if (user.userId === thisUserId) {\r\n          return setIsUserJoined(true);\r\n        }\r\n      });\r\n      // thisUserId = undefined\r\n    }\r\n  }, [usersData]);\r\n  // const getMessage = () => {\r\n  //   socket.on(\"message-get-room\", (data) => {\r\n  //     console.log(\"message-get-room\", data);\r\n\r\n  //   });\r\n  // }\r\n\r\n  useEffect(() => {\r\n    // console.log(socket);\r\n    var person =\r\n      sessionStorage.getItem(\"userName\") ||\r\n      window.sessionStorage.getItem(\"userId\");\r\n    setUsername(person);\r\n    socket.on(\"message-get-room\", (data) => {\r\n      console.log(\"message-get-room-hook\", data);\r\n      pushRoomMessage(data);\r\n    });\r\n  }, []);\r\n\r\n  // const sendMessageRoom = (fromUserId,fromRoomId,fromUsername,message) => {\r\n  //   let data = {\r\n  //     fromUserId : fromUserId,\r\n  //     fromRoomId : fromRoomId,\r\n  //     fromUsername : fromUsername,\r\n  //     message : message,\r\n  //   }\r\n  //   console.log(\"message-send-room\")\r\n  //   socket.emit(\"message-send-room\", data);\r\n  //   // socket.on(\"message-send-room\", (data) => {\r\n  //   //   console.log(\"new-select\", data);\r\n\r\n  //   //   const { userId, roomId, targetId} = data;\r\n  //   //   if (this.state.roomId !== roomId) return;\r\n\r\n  //   //   this.setState({showCardSelectorDialog:1});\r\n  //   // });\r\n  // }\r\n\r\n  useMemo(() => {\r\n    let peopleData = [];\r\n    let peopleList = [thisUsername];\r\n    if (messageGroup.private) {\r\n      messageGroup.private.messages.forEach((message, index) => {\r\n        if (!peopleList.includes(message.fromUsername)) {\r\n          var randomColor = Math.floor(Math.random() * 16777215).toString(16);\r\n          let data = {\r\n            name: message.fromUsername,\r\n            color: `#${randomColor}`,\r\n          };\r\n          peopleData.push(data);\r\n          peopleList.push(message.fromUsername);\r\n        }\r\n      });\r\n    }\r\n    setPeopleBubbles(peopleData);\r\n  }, [setMessageGroup, messageGroup]);\r\n\r\n  const handleshowMessage = (username) => {\r\n    if (\r\n      currentShowMessage !== username &&\r\n      currentShowMessage !== \"\" &&\r\n      showChatbox === true\r\n    )\r\n      return setCurrentShowMessage(username);\r\n    setShowChatbox((status) => !status);\r\n    setCurrentShowMessage(username);\r\n  };\r\n\r\n  const handleCloseMessage = () => {\r\n    setShowChatbox(false);\r\n    var timeout = setTimeout(function () {\r\n      setCurrentShowMessage(\"\");\r\n    }, 3000);\r\n    clearTimeout(timeout);\r\n  };\r\n\r\n  const handleTyping = (e) => {\r\n    setTyping(e.target.value);\r\n  };\r\n\r\n  const handleEnter = () => {\r\n    if (typing) {\r\n      if (currentShowMessage === \"room\") {\r\n        // let roomMes = messageGroup.room.messages;\r\n        sendMessageRoom(\r\n          sessionStorage.getItem(\"userId\"),\r\n          100001,\r\n          thisUsername,\r\n          typing\r\n        );\r\n        // roomMes.push({\r\n        //   fromRoomId: parseInt(thisRoomId),\r\n        //   fromUsername: thisUsername,\r\n        //   message: typing,\r\n        // });\r\n        // setMessageGroup({\r\n        //   ...messageGroup,\r\n        //   ...{ room: { messages: roomMes } },\r\n        // });\r\n      } else {\r\n        let privateMes = messageGroup.private.messages;\r\n        privateMes.push({\r\n          fromUsername: thisUsername,\r\n          toUsername: currentShowMessage,\r\n          message: typing,\r\n        });\r\n        setMessageGroup({\r\n          ...messageGroup,\r\n          ...{ private: { messages: privateMes } },\r\n        });\r\n      }\r\n      setTyping(\"\");\r\n    }\r\n  };\r\n\r\n  const AlwaysScrollToBottom = () => {\r\n    const elementRef = useRef();\r\n    useEffect(() =>\r\n      elementRef.current.scrollIntoView({ block: \"end\", behavior: \"smooth\" })\r\n    );\r\n    return <div ref={elementRef} />;\r\n  };\r\n\r\n  const chatBox = () => (\r\n    <Grow in={showChatbox} {...{ timeout: 250 }}>\r\n      <div className={classes.chatBox}>\r\n        {/* <Typography >{`${currentShowMessage}`}</Typography> */}\r\n        <div className=\"chatHeader\">\r\n          {currentShowMessage === \"room\" ? (\r\n            <div className=\"username\">\r\n              {isUserJoined\r\n                ? `chat ${currentShowMessage} : ${thisRoomId}`\r\n                : \"PLS JOIN ROOM FIRST\"}\r\n            </div>\r\n          ) : (\r\n            <div className=\"username\">{currentShowMessage}</div>\r\n          )}\r\n          <IconButton\r\n            className=\"closeButton\"\r\n            onClick={() => {\r\n              handleCloseMessage();\r\n            }}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </div>\r\n        <div className=\"chatContainer\">\r\n          <div\r\n            className=\"chatbox\"\r\n            id={`room-${thisRoomId}-chat-box`}\r\n            ref={chatBoxElement}\r\n          >\r\n            {messageGroup.room &&\r\n              messageGroup[getMsgKey(currentShowMessage)].messages.map(\r\n                (data) =>\r\n                  filterMsg(data) && (\r\n                    // console.log(\"checkid\",data.fromRoomId === thisUserId),\r\n                    // console.log(\"checkid\",data.fromRoomId, thisUserId),\r\n                    // console.log(\"checkid\",typeof(data.fromRoomId) ,typeof(thisUserId)),\r\n                    <div\r\n                      style={{\r\n                        margin:\r\n                          parseInt(data.fromUserId) === parseInt(thisUserId)\r\n                            ? \"8px 16px 4px auto\"\r\n                            : \"8px 0 4px 16px\",\r\n                      }}\r\n                    >\r\n                      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Avatar\r\n                          className=\"chatboxAvatar\"\r\n                          style={{\r\n                            margin:\r\n                              parseInt(data.fromUserId) === parseInt(thisUserId)\r\n                                ? \"0 0 0 auto\"\r\n                                : \"0\",\r\n                          }}\r\n                        >\r\n                          {data.fromUsername ? data.fromUsername[0] : \"?\"}\r\n                        </Avatar>\r\n                        <Typography className=\"chatboxUsername\">\r\n                          {data.fromUsername}\r\n                        </Typography>\r\n                      </div>\r\n                      <div style={{ display: \"flex\" }}>\r\n                        <Typography align=\"left\" className=\"chatboxText\">\r\n                          {data.message}\r\n                        </Typography>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n              )}\r\n            <AlwaysScrollToBottom />\r\n          </div>\r\n        </div>\r\n        <div className=\"chatInput\">\r\n          <div className=\"textfieldWrapper\">\r\n            <TextField\r\n              className=\"textfield\"\r\n              placeholder=\"Aa...\"\r\n              onChange={handleTyping}\r\n              value={typing}\r\n              disabled={!isUserJoined}\r\n              onKeyPress={(e) => {\r\n                // console.log(e.key);\r\n                if (e.key === \"Enter\") {\r\n                  handleEnter();\r\n                }\r\n              }}\r\n              InputProps={{\r\n                classes: {\r\n                  input: classes.textfieldInput,\r\n                },\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <SendIcon\r\n                      style={{\r\n                        color: Palette.yellow100,\r\n                        marginTop: \"-3px\",\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                      onClick={handleEnter}\r\n                    />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Grow>\r\n  );\r\n\r\n  const chatBubbles = () => (\r\n    <div className={classes.chatSelect}>\r\n      <IconButton\r\n        className={classes.ripple}\r\n        onClick={() => handleshowMessage(\"room\")}\r\n      >\r\n        <Tooltip title=\"Room chat\" placement=\"bottom\" arrow interactive>\r\n          <Avatar\r\n            className={classes.chatBubble}\r\n            style={{ background: Palette.blue300 }}\r\n          >\r\n            R\r\n          </Avatar>\r\n        </Tooltip>\r\n      </IconButton>\r\n      <div className={classes.divider}></div>\r\n      {peopleBubbles &&\r\n        peopleBubbles.map((people, index) => (\r\n          <IconButton\r\n            className={classes.ripple}\r\n            onClick={() => handleshowMessage(people.name)}\r\n          >\r\n            <Tooltip title={people.name} placement=\"bottom\" arrow interactive>\r\n              <Avatar\r\n                key={`${people.name}-${index}`}\r\n                className={classes.chatBubble}\r\n                style={{ background: Palette.green400 }}\r\n              >\r\n                {people.name[0]}\r\n              </Avatar>\r\n            </Tooltip>\r\n          </IconButton>\r\n        ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={classes.root}\r\n      style={{ zIndex: showChatbox ? \"\" : 4 }}\r\n      onMouseEnter={() => {\r\n        setIsHover(true);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setIsHover(false);\r\n      }}\r\n    >\r\n      {chatBox()}\r\n      {chatBubbles()}\r\n      {/* {getMessage()} */}\r\n    </div>\r\n  );\r\n}\r\nexport default Chat;\r\n","export const roomMessages = [\r\n  {\r\n    fromRoomId: 101,\r\n    fromUsername: \"owen\",\r\n    message: \"yaholo\",\r\n  },\r\n  {\r\n    fromRoomId: 101,\r\n    fromUsername: \"miw\",\r\n    message: \"hi\",\r\n  },\r\n  {\r\n    fromRoomId: 101,\r\n    fromUsername: \"bump\",\r\n    message: \"what's up\",\r\n  },\r\n  {\r\n    fromRoomId: 101,\r\n    fromUsername: \"new\",\r\n    message: \"hey guy\",\r\n  },\r\n  {\r\n    fromRoomId: 101,\r\n    fromUsername: \"auu\",\r\n    message: \"hello\",\r\n  },\r\n  {\r\n    fromRoomId: 101,\r\n    fromUsername: \"miw\",\r\n    message: \"how to play\",\r\n  },\r\n  {\r\n    fromRoomId: 101,\r\n    fromUsername: \"bump\",\r\n    message: \"just random card\",\r\n  },\r\n];\r\n\r\nexport const privateMessages = [\r\n  {\r\n    fromUsername: \"janejira\",\r\n    toUsername: \"bump\",\r\n    message: \"Hi,Bump how are youuuu\",\r\n  },\r\n  {\r\n    fromUsername: \"ployjaaa\",\r\n    toUsername: \"bump\",\r\n    message: \"wanna play with ? >_<\",\r\n  },\r\n  {\r\n    fromUsername: \"ployjaaa\",\r\n    toUsername: \"bump\",\r\n    message: \"401 come onnnnn\",\r\n  },\r\n  {\r\n    fromUsername: \"new\",\r\n    toUsername: \"bump\",\r\n    message: \"finished assignment ?\",\r\n  },\r\n];\r\n","//just for note my color\r\n\r\nclass palette {\r\n  yellow100 = \"#f4f1de\"; //eggshell\r\n\r\n  red100 = \"#e07a5f\"; //terra cotta\r\n\r\n  blue100 = \"#3d405b\"; //independence\r\n  blue200 = \"#001829\"; //rich black forga 29\r\n  blue300 = \"#1d2f6f\"; //st patrick blue\r\n\r\n  grey100 = \"#84828f\"; //romance silver\r\n\r\n  green400 = \"#1b7450\"; //dark spring green\r\n}\r\n\r\nconst Palette = new palette();\r\n\r\nexport default Palette;\r\n","import card_back from \"../image/card_back.png\";\r\nimport common_1 from \"../image/common_1.png\";\r\nimport common_2 from \"../image/common_2.png\";\r\nimport common_3 from \"../image/common_3.png\";\r\nimport common_4 from \"../image/common_4.png\";\r\nimport common_5 from \"../image/common_5.png\";\r\nimport attack from \"../image/attack.png\";\r\nimport skip from \"../image/skip.png\";\r\nimport see_the_future from \"../image/see_the_future.png\";\r\nimport favor from \"../image/favor.png\";\r\nimport defuse from \"../image/defuse.png\";\r\nimport nope from \"../image/nope.png\";\r\nimport shuffle from \"../image/shuffle.png\";\r\nimport bomb from \"../image/bomb.png\";\r\n\r\nexport const RoomType = {\r\n  rank: \"Rank\",\r\n  custom: \"Custom\",\r\n};\r\n\r\nexport const Card = {\r\n  explodingPuppy: \"ExplodingPuppy\", // Die if not have defuse\r\n  defuse: \"Defuse\", // Use to prevent exploding puppy\r\n  nope: \"Nope\", // Use to stop any action except explodingPuppy and defuse\r\n  attack: \"Attack\", // Force next player to play 2 turns, can stack e.g. 4, 6, 8, ... turns\r\n  skip: \"Skip\", // Immediately end your turn without drawing a card\r\n  favor: \"Favor\", // Force any other player to give you 1 card from their hand\r\n  seeTheFuture: \"SeeTheFuture\", // Privately view the top 3 cards from the Draw Pile\r\n  shuffle: \"Shuffle\",\r\n  common1: \"Common1\",\r\n  common2: \"Common2\",\r\n  common3: \"Common3\",\r\n  common4: \"Common4\",\r\n  common5: \"Common5\",\r\n  backCard: \"BackCard\",\r\n};\r\n\r\nexport function getCardImage(card) {\r\n  switch (card) {\r\n    case Card.defuse:\r\n      return defuse;\r\n    case Card.attack:\r\n      return attack;\r\n    case Card.skip:\r\n      return skip;\r\n    case Card.shuffle:\r\n      return shuffle;\r\n    case Card.seeTheFuture:\r\n      return see_the_future;\r\n    case Card.nope:\r\n      return nope;\r\n    case Card.favor:\r\n      return favor;\r\n    case Card.common1:\r\n      return common_1;\r\n    case Card.common2:\r\n      return common_2;\r\n    case Card.common3:\r\n      return common_3;\r\n    case Card.common4:\r\n      return common_4;\r\n    case Card.common5:\r\n      return common_5;\r\n    case Card.explodingPuppy:\r\n      return bomb;\r\n    default:\r\n      return card_back;\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { Card, getCardImage } from \"../../../components/type\";\r\nimport ScrollContainer from \"react-indiana-drag-scroll\";\r\nimport Button from \"../../../components/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  wrapper: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n  },\r\n\r\n  cardsWrapper: {\r\n    width: \"70%\",\r\n    height: \"100%\",\r\n    paddingTop: \"10px\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  list: {\r\n    width: \"fit-content\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    padding: \"0 16px\",\r\n    margin: \"50px 0 0 0\",\r\n  },\r\n\r\n  listItem: {\r\n    listStyle: \"none\",\r\n    width: \"7vw\",\r\n  },\r\n\r\n  card: {\r\n    \"&:hover\": {\r\n      marginTop: \"-10px !important\",\r\n    },\r\n  },\r\n\r\n  menuWrapper: {\r\n    width: \"10%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    zIndex: 5,\r\n    paddingRight: \"10px\",\r\n  },\r\n\r\n  useCardButton: {\r\n    width: \"60%\",\r\n  },\r\n}));\r\n\r\nexport default function PlayerHand(props) {\r\n  const classes = useStyles();\r\n  const {\r\n    cards,\r\n    handleUseCard,\r\n    nextUserId,\r\n    countDownComponent,\r\n    canNope,\r\n    cardSelectorId,\r\n  } = props;\r\n  const [selectedCards, setSelectedCards] = useState([]);\r\n  const userId = window.sessionStorage.getItem(\"userId\");\r\n\r\n  const canUseSelectedCards = () => {\r\n    if (nextUserId !== userId && !canNope) return false;\r\n    if (cardSelectorId !== -1) return false;\r\n    if (canNope) {\r\n      if (selectedCards.length === 1 && cards[selectedCards[0]] === Card.nope)\r\n        return true;\r\n      return false;\r\n    }\r\n    if (selectedCards.length === 1) {\r\n      const card = cards[selectedCards[0]];\r\n      const cantUseCard = [\r\n        Card.common1,\r\n        Card.common2,\r\n        Card.common3,\r\n        Card.common4,\r\n        Card.common5,\r\n        Card.defuse,\r\n        Card.explodingPuppy,\r\n        Card.backCard,\r\n        Card.nope,\r\n      ];\r\n      if (cantUseCard.indexOf(card) !== -1) return false;\r\n      return true;\r\n    } else if (\r\n      selectedCards.length === 2 &&\r\n      cards[selectedCards[0]] === cards[selectedCards[1]]\r\n    ) {\r\n      return true;\r\n    } else if (\r\n      selectedCards.length === 3 &&\r\n      cards[selectedCards[0]] === cards[selectedCards[1]] &&\r\n      cards[selectedCards[1]] === cards[selectedCards[2]] &&\r\n      cards[selectedCards[2]] === cards[selectedCards[0]]\r\n    ) {\r\n      return true;\r\n    } else if (selectedCards.length === 5) {\r\n      const selectingCard = selectedCards.map((cardIdx) => cards[cardIdx]);\r\n      selectingCard.sort();\r\n      for (let i = 0; i < 4; i++) {\r\n        if (selectingCard[i] === selectingCard[i + 1]) return false;\r\n      }\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const getNthCardStyle = (n) => ({\r\n    position: \"relative\",\r\n    zIndex: `${n + 1}`,\r\n    marginTop: selectedCards.includes(n) ? \"-40px\" : \"0px\",\r\n    width: \"10vw\",\r\n    boxShadow:\r\n      // equal to theme.shadows[5]\r\n      \"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12)\",\r\n    borderRadius: \"16px\",\r\n    cursor: \"pointer\",\r\n  });\r\n\r\n  const selectCard = (n) => {\r\n    let currentSelected;\r\n    if (selectedCards.includes(n)) {\r\n      currentSelected = selectedCards.filter((item) => item !== n);\r\n    } else {\r\n      currentSelected = [...selectedCards];\r\n      currentSelected.push(n);\r\n    }\r\n    setSelectedCards(currentSelected);\r\n  };\r\n\r\n  const getCardsToRender = () =>\r\n    cards.map((card, idx) => {\r\n      return (\r\n        <li key={`card-${idx}`} className={classes.listItem}>\r\n          <img\r\n            src={getCardImage(card)}\r\n            style={getNthCardStyle(idx)}\r\n            onClick={() => selectCard(idx)}\r\n            className={selectedCards.includes(idx) ? undefined : classes.card}\r\n          />\r\n        </li>\r\n      );\r\n    });\r\n\r\n  const _handleUseCard = (selectedCards) => {\r\n    handleUseCard(selectedCards);\r\n    setSelectedCards([]);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <div className={classes.cardsWrapper}>\r\n        <ScrollContainer\r\n          className=\"scroll-container\"\r\n          style={{ paddingBottom: \"16px\" }}\r\n        >\r\n          <ul className={classes.list}>{getCardsToRender(cards)}</ul>\r\n        </ScrollContainer>\r\n      </div>\r\n      <div className={classes.menuWrapper}>\r\n        {countDownComponent}\r\n        <Button\r\n          disabled={!canUseSelectedCards()}\r\n          text={selectedCards.length <= 1 ? \"Use card\" : \"Use cards\"}\r\n          onClick={() => _handleUseCard(selectedCards)}\r\n          className={classes.useCardButton}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  dialog: {\r\n    width: \"fit-content\",\r\n    height: \"fit-content\",\r\n    backgroundColor: \"#465A74\",\r\n    outline: \"none\",\r\n    border: \"solid 4px black\",\r\n    borderRadius: \"16px\",\r\n    boxShadow: \"10px 10px 4px rgba(0, 0, 0, 0.5)\",\r\n    padding: \"16px\",\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[600],\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"0 0 8px 2px rgba(0, 0, 0, 0.5)\",\r\n    \"&:hover\": {\r\n      color: theme.palette.grey[800],\r\n      backgroundColor: \"white\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function TransitionsModal(props) {\r\n  const classes = useStyles();\r\n  const {\r\n    children,\r\n    open,\r\n    handleClose,\r\n    disableBackdropClick = true,\r\n    disableEscapeKeyDown = true,\r\n    showCloseButton = true,\r\n  } = props;\r\n\r\n  return (\r\n    <Modal\r\n      className={classes.modal}\r\n      open={open}\r\n      onClose={handleClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n      disableBackdropClick={disableBackdropClick}\r\n      disableEscapeKeyDown={disableEscapeKeyDown}\r\n    >\r\n      <Fade in={open}>\r\n        <>\r\n          <div className={classes.dialog}>{children}</div>\r\n          {showCloseButton && (\r\n            <IconButton\r\n              aria-label=\"close\"\r\n              className={classes.closeButton}\r\n              onClick={handleClose}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n          )}\r\n        </>\r\n      </Fade>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { getCardImage } from \"../../../components/type\";\r\nimport TransitionsModal from \"../../../components/TransitionsModal\";\r\nimport Button from \"../../../components/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"fit-content\",\r\n    height: \"fit-content\",\r\n    padding: \"0 75px 25px\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  title: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"36px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n\r\n  list: {\r\n    display: \"flex\",\r\n    padding: \"0\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  listItem: {\r\n    listStyle: \"none\",\r\n  },\r\n\r\n  card: {\r\n    width: \"10vw\",\r\n    borderRadius: \"16px\",\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n\r\n  labelAndCard: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    textAlign: \"center\",\r\n    fontSize: \"24px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n\r\n  okayButton: {\r\n    width: \"fit-content\",\r\n    margin: \"auto\",\r\n  },\r\n}));\r\n\r\nexport default function SeeTheFutureDialog(props) {\r\n  const classes = useStyles();\r\n  const { seeTheFutureCards, open, handleClose } = props;\r\n  return (\r\n    <TransitionsModal open={open} handleClose={handleClose}>\r\n      <div className={classes.root}>\r\n        <p className={classes.title}>SEE THE FUTURE</p>\r\n        <ul className={classes.list}>\r\n          {seeTheFutureCards.map((card, idx) => {\r\n            // console.log(idx, card);\r\n            if (idx === 0)\r\n              return (\r\n                <li key={`sfc-card-${idx}`} className={classes.listItem}>\r\n                  <div className={classes.labelAndCard}>\r\n                    {\"Top card\"}\r\n                    <img\r\n                      src={getCardImage(card)}\r\n                      className={classes.card}\r\n                      style={{ margin: \"16px\" }}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              );\r\n            else if (idx === 1)\r\n              return (\r\n                <li key={`sfc-card-${idx}`} className={classes.listItem}>\r\n                  <div className={classes.labelAndCard}>\r\n                    {\"2nd-top card\"}\r\n                    <img\r\n                      src={getCardImage(card)}\r\n                      className={classes.card}\r\n                      style={{ margin: \"16px\" }}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              );\r\n            else if (idx === 2)\r\n              return (\r\n                <li key={`sfc-card-${idx}`} className={classes.listItem}>\r\n                  <div className={classes.labelAndCard}>\r\n                    {\"3rd-top card\"}\r\n                    <img\r\n                      src={getCardImage(card)}\r\n                      className={classes.card}\r\n                      style={{ margin: \"16px\" }}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              );\r\n          })}\r\n        </ul>\r\n        <Button\r\n          text={\"Okay\"}\r\n          onClick={handleClose}\r\n          className={classes.okayButton}\r\n        />\r\n      </div>\r\n    </TransitionsModal>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Hidden, makeStyles } from \"@material-ui/core\";\r\nimport { getCardImage } from \"../../../components/type\";\r\nimport TransitionsModal from \"../../../components/TransitionsModal\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Card } from \"../../../components/type\";\r\nimport { X } from \"react-feather\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"fit-content\",\r\n    height: \"fit-content\",\r\n    padding: \"0 25px 0px\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  title: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"36px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n\r\n  list: {\r\n    display: \"grid\",\r\n    padding: \"0\",\r\n    overflow: \"auto\",\r\n    overflowX: \"hidden\",\r\n    maxWidth: \"85vw\",\r\n    height: \"70vh\",\r\n    gridTemplateColumns: \"repeat(auto-fill, 12vw)\",\r\n    gridGap: \"10px\",\r\n    gridAutoColumns: \"auto\",\r\n    gridAutoRows: \"17vw\",\r\n  },\r\n\r\n  listItem: {\r\n    listStyle: \"none\",\r\n    cursor: \"pointer\",\r\n  },\r\n\r\n  card: {\r\n    width: \"10vw\",\r\n    borderRadius: \"16px\",\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n\r\n  labelAndCard: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    textAlign: \"center\",\r\n    fontSize: \"24px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n}));\r\n\r\nexport default function CardSelectorDialog(props) {\r\n  const classes = useStyles();\r\n  const { cardSelectorCards, open, handleClose, showBackCard = false } = props;\r\n  return (\r\n    <TransitionsModal open={open} showCloseButton={false}>\r\n      <div className={classes.root}>\r\n        <p className={classes.title}>CARD SELECTOR</p>\r\n        <ul className={classes.list}>\r\n          {cardSelectorCards.map((card, idx) => {\r\n            return (\r\n              <li\r\n                key={`sfc-card-${idx}`}\r\n                className={classes.listItem}\r\n                onClick={() => {\r\n                  handleClose(idx);\r\n                }}\r\n              >\r\n                <div className={classes.labelAndCard}>\r\n                  {\"Card \" + (idx + 1).toString()}\r\n                  <img\r\n                    src={getCardImage(showBackCard ? Card.backCard : card)}\r\n                    className={classes.card}\r\n                    style={{ margin: \"16px auto\" }}\r\n                  />\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </TransitionsModal>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { Card, getCardImage } from \"../../../components/type\";\r\nimport TransitionsModal from \"../../../components/TransitionsModal\";\r\nimport Button from \"../../../components/Button\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"50vw\",\r\n    height: \"fit-content\",\r\n    padding: \"0 75px 25px\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  body: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n  },\r\n\r\n  title: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"36px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n\r\n  card: {\r\n    width: \"10vw\",\r\n    borderRadius: \"16px\",\r\n    boxShadow: theme.shadows[5],\r\n    alignSelf: \"flex-start\",\r\n    margin: \"auto 16px\",\r\n  },\r\n\r\n  label: {\r\n    fontSize: \"24px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n    marginTop: \"0\",\r\n    marginBottom: \"40px\",\r\n  },\r\n\r\n  withDefuse: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  sliderWrapper: {\r\n    width: \"100%\",\r\n    padding: \"0 16px\",\r\n    display: \"flex\",\r\n    marginBottom: \"40px\",\r\n    \"& > span\": {\r\n      color: \"#FF6D9F\",\r\n      fontFamily: \"Roboto\",\r\n      textShadow:\r\n        \"2px 0 0 black, \\\r\n        -2px 0 0 black, \\\r\n        0 2px 0 black, \\\r\n        0 -2px 0 black, \\\r\n        1px 1px 0 black, \\\r\n        -1px -1px 0 black, \\\r\n        1px -1px 0 black, \\\r\n        -1px 1px 0 black, \\\r\n        1px 1px 5px black;\",\r\n    },\r\n  },\r\n\r\n  sliderLabel: {\r\n    fontSize: \"16px\",\r\n    margin: \"auto 16px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n\r\n  withoutDefuse: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nexport default function ExplodingPuppyDialog(props) {\r\n  const classes = useStyles();\r\n  const {\r\n    hasDefuse,\r\n    numberOfDeckCards,\r\n    onClickSpectate,\r\n    onClickHideExplodingPuppy,\r\n    open,\r\n    handleClose,\r\n  } = props;\r\n  const [selectedIdx, setSelectedIdx] = useState(0);\r\n\r\n  return (\r\n    <TransitionsModal\r\n      open={open}\r\n      handleClose={handleClose}\r\n      showCloseButton={false}\r\n    >\r\n      <div className={classes.root}>\r\n        <p className={classes.title}>YOU GOT EXPLODING PUPPY!</p>\r\n        <div className={classes.body}>\r\n          <img\r\n            src={getCardImage(Card.explodingPuppy)}\r\n            className={classes.card}\r\n          />\r\n          {!!hasDefuse && (\r\n            <img src={getCardImage(Card.defuse)} className={classes.card} />\r\n          )}\r\n          {!!hasDefuse && (\r\n            <div className={classes.withDefuse}>\r\n              <p className={classes.label}>\r\n                Luckily, you have Defuse card! Choose where to put the\r\n                \"Exploding Puppy\" in the deck...\r\n              </p>\r\n              <div className={classes.sliderWrapper}>\r\n                <p className={classes.sliderLabel}>Top</p>\r\n                <Slider\r\n                  defaultValue={0}\r\n                  valueLabelFormat={(n) => `${n + 1}`}\r\n                  valueLabelDisplay=\"auto\"\r\n                  step={1}\r\n                  min={0}\r\n                  max={numberOfDeckCards}\r\n                  onChangeCommitted={(e, idx) => setSelectedIdx(idx)}\r\n                />\r\n                <p className={classes.sliderLabel}>Bottom</p>\r\n              </div>\r\n              <Button\r\n                onClick={() => onClickHideExplodingPuppy(selectedIdx)}\r\n                text={\"Hide Exploding Puppy!\"}\r\n              />\r\n            </div>\r\n          )}\r\n          {!hasDefuse && (\r\n            <div className={classes.withoutDefuse}>\r\n              <p className={classes.label}>\r\n                Sadly, you don't have any Defuse card left!\r\n              </p>\r\n              <Button onClick={() => onClickSpectate()} text={\"Spectate\"} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </TransitionsModal>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./GameResultDialog.css\";\r\nimport TransitionsModal from \"../../../components/TransitionsModal\";\r\nimport Button from \"../../../components/Button\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  avatar: {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n  },\r\n  userAvatar: {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n    border: \"4px solid black\",\r\n  },\r\n}));\r\n\r\nexport default function GameResultDialog(props) {\r\n  const { result, userId } = props;\r\n  const open = result.length > 0;\r\n  let userRank = 0;\r\n  result.map((user, idx) => {\r\n    if (userId === user.userId) userRank = idx + 1;\r\n  });\r\n\r\n  const userRankText =\r\n    userRank === 1\r\n      ? \"1st rank\"\r\n      : userRank === 2\r\n      ? \"2nd rank\"\r\n      : userRank === 3\r\n      ? \"3rd rank\"\r\n      : userRank + \"th rank\";\r\n\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n  const goToMainMenu = () => {\r\n    history.push(\"/home\");\r\n    history.go(0);\r\n  };\r\n\r\n  const [showEXPResultModal, setShowEXPResultModal] = useState(false);\r\n\r\n  const onClickGameResultOKButton = () => {\r\n    setShowEXPResultModal(true);\r\n  };\r\n\r\n  const BorderLinearProgress = withStyles((theme) => ({\r\n    root: {\r\n      width: 150,\r\n      height: 12,\r\n      borderRadius: 100,\r\n    },\r\n    colorPrimary: {\r\n      backgroundColor:\r\n        theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\r\n    },\r\n    bar: {\r\n      borderRadius: 5,\r\n      backgroundColor: \"#1a90ff\",\r\n    },\r\n  }))(LinearProgress);\r\n\r\n  const mockData = {\r\n    exp: 0,\r\n    plusExp: 500,\r\n    level: 20,\r\n    rank: 41,\r\n    plusRank: 2,\r\n  };\r\n\r\n  const { exp, plusExp, level, rank, plusRank } = props;\r\n  const [curExp, setCurExp] = useState(exp);\r\n  const [curPlusExp, setCurPlusExp] = useState(plusExp);\r\n  const updateTimes = 100;\r\n  const plusExpPerTime = plusExp / updateTimes;\r\n\r\n  const [curLevel, setCurLevel] = useState(level);\r\n\r\n  const getMaxExp = (level) => 100 + level * level * 5;\r\n\r\n  useEffect(() => {\r\n    if (!showEXPResultModal) return;\r\n    const timer = setInterval(() => {\r\n      if (curPlusExp <= 0) return; // done\r\n      if (curExp + plusExpPerTime < getMaxExp(curLevel)) {\r\n        // normally\r\n        setCurExp(curExp + plusExpPerTime);\r\n        setCurPlusExp(curPlusExp - plusExpPerTime);\r\n      } else {\r\n        // level up\r\n        setCurPlusExp(curPlusExp - (getMaxExp(curLevel) - curExp));\r\n        setCurExp(0);\r\n        setCurLevel(curLevel + 1);\r\n      }\r\n    }, 7);\r\n    if (level > curLevel) {\r\n      setCurExp(exp);\r\n      setCurLevel(level);\r\n    }\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  });\r\n\r\n  const getRankText = (rank) => {\r\n    if (!plusRank) return null;\r\n    const nextRank = rank + plusRank;\r\n    if (rank === nextRank) return <span className=\"rankText\">{rank}</span>;\r\n    if (rank < nextRank)\r\n      return (\r\n        <span className=\"rankText\">\r\n          {rank} {\"\"} <span className=\"greaterNextRank\">{nextRank}</span>\r\n        </span>\r\n      );\r\n    return (\r\n      <span className=\"rankText\">\r\n        {rank} {\"\"} <span className=\"lessNextRank\">{nextRank}</span>\r\n      </span>\r\n    );\r\n  };\r\n  const rankText = getRankText(rank);\r\n  return (\r\n    <>\r\n      <TransitionsModal\r\n        open={open && !showEXPResultModal}\r\n        showCloseButton={false}\r\n      >\r\n        <div className=\"modal\">\r\n          <div className=\"title\">You are {userRankText}</div>\r\n          <div className=\"playerList\">\r\n            {result.map(({ userId, userName, profileImgUrl }, idx) => {\r\n              if (idx !== userRank - 1)\r\n                // other player\r\n                return (\r\n                  <div className=\"avatarAndUserName\">\r\n                    <Avatar\r\n                      className={classes.avatar}\r\n                      alt={userName}\r\n                      src={profileImgUrl}\r\n                    />\r\n                    <span className=\"userName\">{userName}</span>\r\n                  </div>\r\n                );\r\n              return (\r\n                // player\r\n                <div className=\"avatarAndUserName\">\r\n                  <Avatar\r\n                    className={classes.userAvatar}\r\n                    alt={userName}\r\n                    src={profileImgUrl}\r\n                  />\r\n                  <span className=\"userUserName\">{userName}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          <Button text={\"OK\"} onClick={onClickGameResultOKButton} />\r\n        </div>\r\n      </TransitionsModal>\r\n      <TransitionsModal open={showEXPResultModal} showCloseButton={false}>\r\n        <div className=\"modal\">\r\n          <div className=\"title\">Result</div>\r\n          <div className=\"title resultBody\">\r\n            <span>Level</span>\r\n            <span className=\"levelText\">{curLevel}</span>\r\n            <div className=\"progressAndEXPText\">\r\n              <BorderLinearProgress\r\n                variant=\"determinate\"\r\n                value={(curExp / getMaxExp(curLevel)) * 100}\r\n              />\r\n              <span className=\"expText\">\r\n                {Math.floor((curExp / getMaxExp(curLevel)) * 100)} %\r\n              </span>\r\n            </div>\r\n            {plusRank && <span>Rank</span>}\r\n            {rankText}\r\n            <div className=\"dummyDiv\" />\r\n          </div>\r\n          <Button text={\"Main Menu\"} onClick={goToMainMenu} />\r\n        </div>\r\n      </TransitionsModal>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Grid, makeStyles, Avatar } from \"@material-ui/core\";\r\nimport card_back from \"../../../image/card_back.png\";\r\nimport classNames from \"classnames\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"90%\",\r\n    height: \"90%\",\r\n    backgroundColor: \"rgba(182,197,224,0.3)\",\r\n    borderRadius: \"16px\",\r\n    padding: \"8px\",\r\n  },\r\n  rootClickable: {\r\n    position: \"relative\",\r\n    zIndex: \"101\",\r\n    \"&:hover\": { boxShadow: \"0px 0px 10px 4px rgba(255,255,255,0.75)\" },\r\n    cursor: \"pointer\",\r\n  },\r\n  rootCurrentTurn: {\r\n    boxShadow: \"0px 0px 10px 4px rgba(100,60,77,0.75)\",\r\n  },\r\n  cardsection: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"red\",\r\n  },\r\n  cardcontainer: {\r\n    width: \"100%\",\r\n    height: \"60%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  playerName: {\r\n    width: \"calc(100% - 40px)\",\r\n    margin: \"auto\",\r\n    paddingLeft: \"10px\",\r\n    overflow: \"hidden\",\r\n    whiteSpace: \"nowrap\",\r\n    textOverflow: \"ellipsis\",\r\n    fontFamily: \"Roboto\",\r\n    fontSize: \"120%\",\r\n    color: \"white\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n  playerNameCurrentTurn: {\r\n    color: \"#FF9AC5\",\r\n  },\r\n  dead: {\r\n    fontSize: \"140%\",\r\n    color: \"red\",\r\n    textAlign: \"center\",\r\n  },\r\n  cardList: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  listItem: {\r\n    listStyle: \"none\",\r\n    height: \"100%\",\r\n    width: \"6%\",\r\n    margin: \"auto\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  nameAndAvatar: {\r\n    width: \"100%\",\r\n    height: \"40px\",\r\n    display: \"flex\",\r\n  },\r\n}));\r\n\r\nconst getNthCardStyle = (n) => ({\r\n  position: \"relative\",\r\n  zIndex: `${n + 1}`,\r\n  height: \"60%\",\r\n  boxShadow:\r\n    // equal to theme.shadows[5]\r\n    \"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12)\",\r\n  borderRadius: \"4px\",\r\n});\r\n\r\nfunction Otherhand(props) {\r\n  const classes = useStyles();\r\n  const { user, clickable, nextUserId, onClick } = props;\r\n  const name = user.userName ? user.userName : `Player ${user.userId}`;\r\n  const numberOfCards = user.numberOfCards;\r\n  const profileImgUrl = user.profileImgUrl;\r\n  const isDead = user.isDead;\r\n  const currentTurn = nextUserId === user.userId;\r\n  function gencard(numberofcards) {\r\n    let tmp = Array();\r\n    if (numberOfCards <= 10) {\r\n      for (let i = 0; i < numberofcards; i++) {\r\n        tmp.push(\r\n          <li\r\n            className={classes.listItem}\r\n            style={\r\n              i === numberOfCards - 1 ? { width: \"fit-content\" } : undefined\r\n            }\r\n          >\r\n            <img src={card_back} style={getNthCardStyle(i)} />\r\n          </li>\r\n        );\r\n      }\r\n    } else {\r\n      tmp.push(\r\n        <li\r\n          className={classes.listItem}\r\n          style={{ width: \"fit-content\", margin: \"0\" }}\r\n        >\r\n          <img src={card_back} style={getNthCardStyle(0)} />\r\n        </li>\r\n      );\r\n      tmp.push(\r\n        <li\r\n          className={classes.listItem}\r\n          style={{ width: \"fit-content\", margin: \"0\" }}\r\n        >\r\n          <div\r\n            className={classes.playerName}\r\n            style={{ margin: \"0\", overflow: \"unset\" }}\r\n          >{`x ${numberOfCards}`}</div>\r\n        </li>\r\n      );\r\n    }\r\n    return tmp;\r\n  }\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      className={classNames(\r\n        classes.root,\r\n        { [classes.rootClickable]: clickable },\r\n        { [classes.rootCurrentTurn]: currentTurn }\r\n      )}\r\n      onClick={onClick}\r\n    >\r\n      <Grid container item xs=\"12\" className={classes.nameAndAvatar}>\r\n        <Avatar alt={name} src={profileImgUrl}></Avatar>\r\n        <Grid\r\n          item\r\n          className={classNames(classes.playerName, {\r\n            [classes.playerNameCurrentTurn]: currentTurn,\r\n          })}\r\n        >\r\n          {name}\r\n        </Grid>\r\n      </Grid>\r\n      {isDead ? (\r\n        <div className={classNames(classes.playerName, classes.dead)}>DEAD</div>\r\n      ) : (\r\n        <div className={classes.cardcontainer}>\r\n          <ui className={classes.cardList}>{gencard(numberOfCards)}</ui>\r\n        </div>\r\n      )}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Otherhand;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { getCardImage } from \"../../../components/type\";\r\nimport card_back from \"../../../image/card_back.png\";\r\nimport exit from \"../../../image/exit.png\";\r\nimport PlayerHand from \"../PlayerHand\";\r\nimport SeeTheFutureDialog from \"../SeeTheFutureDialog\";\r\nimport CardSelectorDialog from \"../CardSelectorDialog\";\r\nimport ExplodingPuppyDialog from \"../ExplodingPuppyDialog\";\r\nimport GameResultDialog from \"../GameResultDialog\";\r\nimport Button from \"../../../components/Button\";\r\nimport Otherhand from \"../Otherhand\";\r\nimport Countdown from \"react-countdown\";\r\nimport classNames from \"classnames\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"#465A74\",\r\n  },\r\n\r\n  topSection: {\r\n    width: \"100%\",\r\n    height: \"20%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  middleSection: {\r\n    width: \"100%\",\r\n    height: \"50%\",\r\n    display: \"flex\",\r\n  },\r\n\r\n  bottomSection: {\r\n    width: \"100%\",\r\n    height: \"30%\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  middlePlayerSection: {\r\n    width: \"20%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column-reverse\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  playArea: {\r\n    width: \"60%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n  },\r\n\r\n  topPlayerWrapper: {\r\n    height: \"100%\",\r\n    width: \"20%\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  middlePlayerWrapper: {\r\n    height: \"40%\",\r\n    width: \"100%\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  cardWrapper: {\r\n    width: \"25%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  logWrapper: {\r\n    width: \"50%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  log: {\r\n    width: \"75%\",\r\n    height: \"50%\",\r\n    position: \"relative\",\r\n    zIndex: \"101\",\r\n    backgroundColor: \"rgba(0,0,0,0.2)\",\r\n    borderRadius: \"16px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    color: \"white\",\r\n    fontWeight: \"500\",\r\n    fontSize: \"24px\",\r\n    padding: \"16px\",\r\n  },\r\n\r\n  logsList: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    overflow: \"auto\",\r\n  },\r\n\r\n  logItem: {\r\n    width: \"100%\",\r\n    fontSize: \"20px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n    padding: \"8px 0px\",\r\n    listStyle: \"none\",\r\n    borderBottom: \"solid 1px white\",\r\n  },\r\n\r\n  cardLeft: {\r\n    textAlign: \"center\",\r\n    position: \"absolute\",\r\n    bottom: \"15%\",\r\n    width: \"100%\",\r\n    fontSize: \"20px\",\r\n    color: \"white\",\r\n    fontFamily: \"Roboto\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n\r\n  deck: {\r\n    width: \"10vw\",\r\n    cursor: \"pointer\",\r\n    borderRadius: \"16px\",\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n\r\n  usedCard: {\r\n    width: \"10vw\",\r\n    borderRadius: \"16px\",\r\n    boxShadow: theme.shadows[5],\r\n    position: \"relative\",\r\n    zIndex: \"101\",\r\n  },\r\n\r\n  backdrop: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.8)\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    zIndex: \"100\",\r\n  },\r\n\r\n  timeLeft: {\r\n    fontFamily: \"Roboto\",\r\n    color: \"white\",\r\n    fontSize: \"32px\",\r\n    marginBottom: \"16px\",\r\n    textShadow:\r\n      \"2px 0 0 black, \\\r\n      -2px 0 0 black, \\\r\n      0 2px 0 black, \\\r\n      0 -2px 0 black, \\\r\n      1px 1px 0 black, \\\r\n      -1px -1px 0 black, \\\r\n      1px -1px 0 black, \\\r\n      -1px 1px 0 black, \\\r\n      1px 1px 5px black;\",\r\n  },\r\n\r\n  timeLeftBelowFiveSeconds: {\r\n    color: \"red\",\r\n    fontWeight: \"bold\",\r\n  },\r\n\r\n  exitButton: {\r\n    position: \"absolute\",\r\n    top: \"8px\",\r\n    left: \"8px\",\r\n    padding: \"8px 16px\",\r\n    \"& > div\": {\r\n      \"& > div\": {\r\n        fontSize: \"16px\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Game(props) {\r\n  const {\r\n    socket,\r\n    drawCard,\r\n    createCustomRoom,\r\n    joinCustomRoom,\r\n    startGame,\r\n    getPropsFromUserId,\r\n    hasDefuse,\r\n    explodeId,\r\n    insertExplodingPuppy,\r\n    handleUseCard,\r\n    seeTheFutureId,\r\n    seeTheFutureCards,\r\n    closeSeeTheFutureDialog,\r\n    gameLose,\r\n    topDiscardPile,\r\n    isSelectingPlayerId,\r\n    selectPlayer,\r\n    cardSelectorId,\r\n    setSelectedCardIdx,\r\n    cardSelectorCards,\r\n    usersData,\r\n    numberOfDeckCards,\r\n    nextUserId,\r\n    showCardSelectorBackCard,\r\n    userCards,\r\n    canNope,\r\n    handleUseNope,\r\n    countDownTime,\r\n    newCountDown,\r\n    handleCompleteNopeCountdown,\r\n    logs,\r\n    result,\r\n    handleExit,\r\n    userProgress,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const userId = window.sessionStorage.getItem(\"userId\"); // todo:\r\n  const roomId = \"100001\"; // todo:\r\n  // console.log(props)\r\n  // const roomId = this.props.match.params.roomId\r\n  const timePerTurn = 30; // seconds\r\n  const [isMyTurn, setIsMyTurn] = useState(false);\r\n  const isSelectingPlayer = isSelectingPlayerId === userId;\r\n\r\n  let users = usersData;\r\n\r\n  for (let i = 0; i < users.length; i++) {\r\n    const firstUser = users[0];\r\n    if (firstUser.userId === userId) break;\r\n    users.splice(0, 1);\r\n    users.push(firstUser);\r\n  }\r\n\r\n  const getUsersToRender = () => {\r\n    switch (users.length) {\r\n      case 1:\r\n        return [\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n        ];\r\n      case 2:\r\n        return [\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          users[1],\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n        ];\r\n      case 3:\r\n        return [\r\n          undefined,\r\n          undefined,\r\n          users[1],\r\n          undefined,\r\n          users[2],\r\n          undefined,\r\n          undefined,\r\n        ];\r\n      case 4:\r\n        return [\r\n          undefined,\r\n          users[1],\r\n          undefined,\r\n          users[2],\r\n          undefined,\r\n          users[3],\r\n          undefined,\r\n        ];\r\n      case 5:\r\n        return [\r\n          undefined,\r\n          users[1],\r\n          users[2],\r\n          undefined,\r\n          users[3],\r\n          users[4],\r\n          undefined,\r\n        ];\r\n      case 6:\r\n        return [\r\n          undefined,\r\n          users[1],\r\n          users[2],\r\n          users[3],\r\n          users[4],\r\n          users[5],\r\n          undefined,\r\n        ];\r\n      case 7:\r\n        return [\r\n          users[1],\r\n          users[2],\r\n          users[3],\r\n          undefined,\r\n          users[4],\r\n          users[5],\r\n          users[6],\r\n        ];\r\n      case 8:\r\n        return [\r\n          users[1],\r\n          users[2],\r\n          users[3],\r\n          users[4],\r\n          users[5],\r\n          users[6],\r\n          users[7],\r\n        ];\r\n      default:\r\n        return [\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n        ];\r\n    }\r\n  };\r\n\r\n  const usersToRender = getUsersToRender();\r\n\r\n  const _handleUseCard = (cardsIdx) => {\r\n    handleUseCard(userId, cardsIdx);\r\n  };\r\n\r\n  const _handleCloseCardSelectorDialog = (selectedCardIdx) => {\r\n    setSelectedCardIdx(userId, selectedCardIdx);\r\n  };\r\n\r\n  const getTopPlayer = (user) => {\r\n    return (\r\n      <div className={classes.topPlayerWrapper}>\r\n        {user && (\r\n          <Otherhand\r\n            user={user}\r\n            clickable={isSelectingPlayer}\r\n            nextUserId={nextUserId}\r\n            onClick={\r\n              isSelectingPlayer\r\n                ? () => {\r\n                    selectPlayer(userId, user.userId);\r\n                  }\r\n                : undefined\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getMiddlePlayer = (user) => {\r\n    return (\r\n      <div className={classes.middlePlayerWrapper}>\r\n        {user && (\r\n          <Otherhand\r\n            user={user}\r\n            clickable={isSelectingPlayer}\r\n            nextUserId={nextUserId}\r\n            onClick={\r\n              isSelectingPlayer\r\n                ? () => {\r\n                    selectPlayer(userId, user.userId);\r\n                  }\r\n                : undefined\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleDrawCard = () => {\r\n    if (nextUserId !== userId || cardSelectorId !== -1 || canNope) return;\r\n    drawCard(userId, roomId);\r\n    newCountDown(timePerTurn);\r\n  };\r\n\r\n  const normalRenderer = ({ hours, minutes, seconds, completed }) => {\r\n    if (completed) {\r\n      return <span></span>;\r\n    } else {\r\n      // Render a countdown\r\n      return (\r\n        <div\r\n          className={classNames(classes.timeLeft, {\r\n            [classes.timeLeftBelowFiveSeconds]: seconds <= 5,\r\n          })}\r\n        >\r\n          {seconds}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const nopeRenderer = ({ hours, minutes, seconds, completed }) => {\r\n    if (completed) {\r\n      return <span></span>;\r\n    } else {\r\n      // Render a countdown\r\n      return (\r\n        <div\r\n          className={classNames(\r\n            classes.timeLeft,\r\n            classes.timeLeftBelowFiveSeconds\r\n          )}\r\n        >\r\n          {seconds}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const countDownComponent = canNope ? (\r\n    <Countdown\r\n      key={countDownTime}\r\n      date={countDownTime}\r\n      renderer={nopeRenderer}\r\n      onComplete={handleCompleteNopeCountdown}\r\n    />\r\n  ) : userId === nextUserId ? (\r\n    <Countdown\r\n      key={countDownTime}\r\n      date={countDownTime}\r\n      renderer={normalRenderer}\r\n      onComplete={handleDrawCard}\r\n    />\r\n  ) : (\r\n    <div></div>\r\n  );\r\n\r\n  if (!isMyTurn && nextUserId === userId) {\r\n    // my turn\r\n    setIsMyTurn(true);\r\n    newCountDown(timePerTurn);\r\n  } else if (isMyTurn && nextUserId !== userId) {\r\n    // other turn\r\n    setIsMyTurn(false);\r\n    newCountDown(0);\r\n  }\r\n\r\n  const _handleUseNope = () => {\r\n    handleUseNope(userId);\r\n  };\r\n\r\n  const logItems = logs.map((item, idx) => (\r\n    <li\r\n      key={`log-${idx}`}\r\n      className={classes.logItem}\r\n      style={\r\n        idx === 0\r\n          ? { paddingTop: \"0\" }\r\n          : idx === logs.length - 1\r\n          ? { paddingButtom: \"0\", border: \"none\" }\r\n          : undefined\r\n      }\r\n    >\r\n      {item}\r\n    </li>\r\n  ));\r\n\r\n  const updateLogsScroll = () => {\r\n    const element = document.getElementById(\"logs\");\r\n    element.scrollTop = element.scrollHeight;\r\n  };\r\n\r\n  const { exp, rank, level } = userProgress;\r\n  useEffect(() => {\r\n    updateLogsScroll();\r\n  });\r\n\r\n  const history = useHistory();\r\n  const _handleExit = () => {\r\n    handleExit(userId);\r\n    history.push(\"/home\");\r\n    history.go(0);\r\n  };\r\n  return (\r\n    <>\r\n      <div className={classes.root}>\r\n        <div className={classes.topSection}>\r\n          {getTopPlayer(usersToRender[2])}\r\n          <div style={{ width: \"5%\" }} />\r\n          {getTopPlayer(usersToRender[3])}\r\n          <div style={{ width: \"5%\" }} />\r\n          {getTopPlayer(usersToRender[4])}\r\n        </div>\r\n        <div className={classes.middleSection}>\r\n          <div className={classes.middlePlayerSection}>\r\n            {getMiddlePlayer(usersToRender[0])}\r\n            <div style={{ height: \"10%\" }} />\r\n            {getMiddlePlayer(usersToRender[1])}\r\n          </div>\r\n          <div className={classes.playArea}>\r\n            <div\r\n              className={classes.cardWrapper}\r\n              style={\r\n                numberOfDeckCards > 0 ? undefined : { visibility: \"hidden\" }\r\n              }\r\n            >\r\n              <img\r\n                src={card_back}\r\n                className={classes.deck}\r\n                onClick={handleDrawCard}\r\n              />\r\n              <div className={classes.cardLeft}>\r\n                {`Cards left: ${numberOfDeckCards}`}\r\n              </div>\r\n            </div>\r\n            <div className={classes.cardWrapper}>\r\n              <img\r\n                src={topDiscardPile ? getCardImage(topDiscardPile) : undefined}\r\n                className={classes.usedCard}\r\n              />\r\n            </div>\r\n            <div className={classes.logWrapper}>\r\n              <div className={classes.log}>\r\n                <ui id=\"logs\" className={classes.logsList}>\r\n                  {logItems}\r\n                </ui>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={classes.middlePlayerSection}>\r\n            {getMiddlePlayer(usersToRender[6])}\r\n            <div style={{ height: \"10%\" }} />\r\n            {getMiddlePlayer(usersToRender[5])}\r\n          </div>\r\n        </div>\r\n        <div className={classes.bottomSection}>\r\n          <PlayerHand\r\n            cards={userCards}\r\n            handleUseCard={_handleUseCard}\r\n            nextUserId={nextUserId}\r\n            countDownComponent={countDownComponent}\r\n            canNope={canNope}\r\n            cardSelectorId={cardSelectorId}\r\n          />\r\n        </div>\r\n      </div>\r\n      <SeeTheFutureDialog\r\n        open={seeTheFutureId === userId}\r\n        handleClose={() => closeSeeTheFutureDialog()}\r\n        seeTheFutureCards={seeTheFutureCards}\r\n      />\r\n      <CardSelectorDialog\r\n        open={cardSelectorId === userId}\r\n        handleClose={(selelctedCardIdx) =>\r\n          _handleCloseCardSelectorDialog(selelctedCardIdx)\r\n        }\r\n        cardSelectorCards={cardSelectorCards}\r\n        showBackCard={showCardSelectorBackCard}\r\n      />\r\n      <ExplodingPuppyDialog\r\n        open={explodeId === userId}\r\n        hasDefuse={hasDefuse(userId)}\r\n        numberOfDeckCards={numberOfDeckCards}\r\n        onClickSpectate={() => {\r\n          gameLose(userId);\r\n        }}\r\n        onClickHideExplodingPuppy={(idx) => {\r\n          insertExplodingPuppy(userId, idx);\r\n        }}\r\n      />\r\n      <GameResultDialog\r\n        result={result}\r\n        userId={userId}\r\n        exp={exp}\r\n        plusExp={250} // todo: Rank will give 500 exp, custom will give 250\r\n        level={level}\r\n        rank={rank}\r\n        // plusRank={2} // todo: pass this if rank mode; 2 for 1st, 1 for 2nd, 0 for 3rd, -1 for 4th, -2 for 5th\r\n      />\r\n      {isSelectingPlayer && <div className={classes.backdrop} />}\r\n      <Button\r\n        text={\"Exit\"}\r\n        icon={exit}\r\n        iconPosition={\"top\"}\r\n        style={\"secondary\"}\r\n        onClick={_handleExit}\r\n        className={classes.exitButton}\r\n      />\r\n      <div>\r\n        <button onClick={() => createCustomRoom(userId)}>\r\n          createCustomRoom\r\n        </button>\r\n        <button onClick={() => joinCustomRoom(userId, roomId)}>\r\n          joinCustomRoom\r\n        </button>\r\n        <button onClick={() => startGame(roomId)}>startGame</button>\r\n        <button onClick={() => console.log(getPropsFromUserId(userId))}>\r\n          getProps\r\n        </button>\r\n        <button onClick={() => _handleUseNope()}>use nope</button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default Game;\r\n","import React from \"react\";\r\nimport Chat from \"./Chat\";\r\nimport Game from \"./Game\";\r\nimport { Palette } from \"components\";\r\nimport { Card } from \"../../components/type\";\r\nimport axios from \"axios\";\r\n\r\nconst allSelectableCards = Object.values(Card);\r\nallSelectableCards.splice(allSelectableCards.indexOf(Card.explodingPuppy), 1);\r\nallSelectableCards.splice(allSelectableCards.indexOf(Card.backCard), 1);\r\n\r\nconst timePerTurn = 30; // seconds\r\nconst timeForNope = 5; // seconds\r\n\r\nconst ENDPOINT =\r\n  process.env.REACT_APP_BACKEND_API || \"http://18.141.138.13:10000\";\r\n\r\nclass Gameplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      socket: props.socket,\r\n      roomId: props.match.params.roomId, // room Id\r\n      usersData: [], // {userId, userName, userCards, isDead, profileImgUrl}\r\n      createdTime: new Date(),\r\n      leftCardNumber: -1, // left card number in the card pile\r\n      nextUserId: -1,\r\n      nextTurnLeft: 1,\r\n      discardPile: [], // index 0 is the bottom,\r\n      explodeId: -1,\r\n      seeTheFutureId: -1,\r\n      seeTheFutureCards: [],\r\n      isSelectingPlayerId: -1,\r\n      cardSelectorId: -1,\r\n      targetId: -1,\r\n      cardSelectorCards: [],\r\n      userId: window.sessionStorage.getItem(\"userId\"),\r\n      usingEffectCard: Card.backCard, // Card.common2 for 2 of a kind, Card.common3 for 3 of a kind, Card.common5 for 5 diffrent kind of cards\r\n      showCardSelectorBackCard: false,\r\n      time: new Date(),\r\n      newNextUserId: -1,\r\n      newNextTurnLeft: 0,\r\n      canNope: false,\r\n      cardUserId: -1,\r\n      countDownTime: 0,\r\n      newCardSelectorId: -1,\r\n      isNoped: false, // false mean 0/2/4/... nope, true mean 1/3/5/... nope\r\n      logs: [],\r\n      result: [],\r\n      hasDefuse: false,\r\n      userProgress: {\r\n        rank: 0,\r\n        exp: -1,\r\n        level: 0,\r\n      },\r\n    };\r\n    this.setUserProgress();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.state.socket.on(\"new-custom-room\", (data) => {\r\n      console.log(\"new-custom-room\", data);\r\n\r\n      const { userId, roomId } = data;\r\n      if (userId !== this.state.userId) return; // Should not possible?\r\n      const userName =\r\n        sessionStorage.getItem(\"userName\") ||\r\n        window.sessionStorage.getItem(\"userName\") ||\r\n        userId;\r\n      const profileImgUrl =\r\n        sessionStorage.getItem(\"profileImgUrl\") || \"/broken-image.jpg\";\r\n      const usersData = [\r\n        {\r\n          userId,\r\n          userName,\r\n          userCards: [],\r\n          numberOfCards: 0,\r\n          isDead: false,\r\n          profileImgUrl: profileImgUrl,\r\n        },\r\n      ];\r\n\r\n      this.addLogs(userName + \" created room number \" + roomId);\r\n      this.setState({\r\n        roomId,\r\n        usersData,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-join-custom-other\", (data) => {\r\n      console.log(\"new-join-custom-other\", data);\r\n      if (!data) return;\r\n\r\n      const { userId, roomId, userName, profileImgUrl } = data;\r\n      const { usersData } = this.state;\r\n      if (userId === this.state.userId) return;\r\n      if (this.findUserIdx(userId) !== -1) return;\r\n      const newUserData = {\r\n        userId,\r\n        userName,\r\n        userCards: [],\r\n        numberOfCards: 0,\r\n        isDead: false,\r\n        profileImgUrl,\r\n      };\r\n      usersData.push(newUserData);\r\n      this.addLogs(userName + \" joined this room\");\r\n      this.setState({\r\n        usersData,\r\n        roomId,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-join-custom-joiner\", (data) => {\r\n      console.log(\"new-join-custom-joiner\", data);\r\n      if (!data) return;\r\n      const usersData = [];\r\n      const { usersId, usersName, profileImgUrls } = data;\r\n      let alreadyJoin = false;\r\n      usersId.forEach((userId, idx) => {\r\n        console.log(userId, this.state.userId, idx);\r\n        if (userId === this.state.userId && idx !== usersId.length - 1)\r\n          alreadyJoin = true;\r\n        const newUserData = {\r\n          userId,\r\n          userName: usersName[idx],\r\n          userCards: 0,\r\n          numberOfCards: 0,\r\n          isDead: false,\r\n          // profileImgUrl: profileImgUrls[idx], todo:\r\n        };\r\n        usersData.push(newUserData);\r\n      });\r\n      if (alreadyJoin) {\r\n        console.log(\"Error: You already joined this room.\");\r\n        return;\r\n      }\r\n\r\n      if (this.state.userId !== usersId[usersId.length - 1]) return;\r\n      this.addLogs(\"You joined room number \" + data.roomId);\r\n      this.setState({\r\n        usersData,\r\n        roomId: data.roomId,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-card\", (data) => {\r\n      console.log(\"new-card\", data);\r\n\r\n      const {\r\n        userId,\r\n        roomId,\r\n        card,\r\n        leftCardNumber,\r\n        nextUserId,\r\n        nextTurnLeft,\r\n      } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n      if (card === Card.explodingPuppy) {\r\n        this.drawExplodingPuppy(userId, roomId);\r\n        this.setState({\r\n          leftCardNumber,\r\n        });\r\n        return;\r\n      }\r\n\r\n      const userIdx = this.findUserIdx(userId);\r\n      const { usersData } = this.state;\r\n      usersData[userIdx].userCards.push(card);\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" draw new card\");\r\n      if (nextUserId !== this.state.nextUserId) {\r\n        const nextUserName = this.getUserNameByUserId(nextUserId);\r\n        this.addLogs(\"Start \" + nextUserName + \" turn\");\r\n      }\r\n      this.setState({\r\n        usersData,\r\n        leftCardNumber,\r\n        nextUserId,\r\n        nextTurnLeft,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-game\", (data) => {\r\n      console.log(\"new-game\", data);\r\n\r\n      const {\r\n        roomId,\r\n        leftCardNumber,\r\n        usersId,\r\n        usersCard,\r\n        nextUserId,\r\n        nextTurnLeft,\r\n      } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const usersData = [];\r\n      usersId.forEach((userId, idx) => {\r\n        const newUserData = {\r\n          userId,\r\n          userName: this.getUserNameByUserId(userId),\r\n          userCards: usersCard[idx],\r\n          numberOfCards: usersCard[idx].length,\r\n          isDead: false,\r\n        };\r\n        usersData.push(newUserData);\r\n      });\r\n\r\n      this.addLogs(\"Game started\");\r\n      this.setState({\r\n        leftCardNumber,\r\n        usersData,\r\n        nextUserId,\r\n        nextTurnLeft,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-card-use\", (data) => {\r\n      console.log(\"new-card-use\", data);\r\n\r\n      const { userId, roomId, card, cardIdx, nextUserId, nextTurnLeft } = data;\r\n      const { usersData, discardPile } = this.state;\r\n\r\n      if (this.state.roomId !== roomId) return;\r\n      const userIdx = this.findUserIdx(userId);\r\n      if (usersData[userIdx].userCards[cardIdx] !== card) return;\r\n      discardPile.push(card);\r\n      usersData[userIdx].userCards.splice(cardIdx, 1);\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n\r\n      this.setState({\r\n        usersData,\r\n        newNextUserId: nextUserId,\r\n        newNextTurnLeft: nextTurnLeft,\r\n        cardUserId: userId,\r\n        usingEffectCard: card,\r\n      });\r\n\r\n      switch (card) {\r\n        case Card.favor:\r\n          this.setState({ isSelectingPlayerId: userId });\r\n          break;\r\n        default:\r\n          this.setState({ canNope: true, isNoped: false });\r\n          this.newCountDown(timeForNope);\r\n      }\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" use \" + card);\r\n    });\r\n    this.state.socket.on(\"new-common-2\", (data) => {\r\n      console.log(\"new-common-2\", data);\r\n\r\n      const { userId, roomId, cardsIdx } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const { usersData, discardPile, nextUserId, nextTurnLeft } = this.state;\r\n      const userIdx = this.findUserIdx(userId);\r\n      const userCards = usersData[userIdx].userCards;\r\n      const usingCard = userCards[cardsIdx[0]];\r\n      const newUserCards = [];\r\n      userCards.forEach((card, idx) => {\r\n        if (cardsIdx.indexOf(idx) === -1) newUserCards.push(card);\r\n        else discardPile.push(card);\r\n      });\r\n      usersData[userIdx].userCards = newUserCards;\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n\r\n      this.setState({\r\n        usersData,\r\n        isSelectingPlayerId: userId,\r\n        cardUserId: userId,\r\n        usingEffectCard: Card.common2,\r\n        newNextUserId: nextUserId,\r\n        newNextTurnLeft: nextTurnLeft,\r\n      });\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" use 2 of \" + usingCard);\r\n    });\r\n    this.state.socket.on(\"receive-common-2\", (data) => {\r\n      console.log(\"receive-common-2\", data);\r\n\r\n      const { userId, roomId, targetId, targetCardIdx } = data;\r\n      const { usersData } = this.state;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const userIdx = this.findUserIdx(userId);\r\n      const targetIdx = this.findUserIdx(targetId);\r\n      // todo?: find another way that better than random\r\n      const randomCardIdx = Math.floor(\r\n        Math.random() * usersData[targetIdx].userCards.length\r\n      );\r\n      const targetCard = usersData[targetIdx].userCards[randomCardIdx];\r\n      usersData[userIdx].userCards.push(targetCard);\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n      usersData[targetIdx].userCards.splice(randomCardIdx, 1);\r\n      usersData[targetIdx].numberOfCards =\r\n        usersData[targetIdx].userCards.length;\r\n\r\n      this.setState({\r\n        usersData,\r\n        usingEffectCard: Card.backCard,\r\n        cardSelectorId: -1,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-common-3\", (data) => {\r\n      console.log(\"new-common-3\", data);\r\n\r\n      const { userId, roomId, cards, cardsIdx } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const { usersData, discardPile, nextUserId, nextTurnLeft } = this.state;\r\n      const userIdx = this.findUserIdx(userId);\r\n      const userCard = usersData[userIdx].userCards;\r\n      const usingCard = userCard[cardsIdx[0]];\r\n      const newUserCard = [];\r\n      userCard.forEach((card, idx) => {\r\n        if (cardsIdx.indexOf(idx) === -1) newUserCard.push(card);\r\n        else discardPile.push(card);\r\n      });\r\n      usersData[userIdx].userCards = newUserCard;\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" use 3 of \" + usingCard);\r\n      this.setState({\r\n        usersData,\r\n        isSelectingPlayerId: userId,\r\n        cardUserId: userId,\r\n        usingEffectCard: Card.common3,\r\n        newNextUserId: nextUserId,\r\n        newNextTurnLeft: nextTurnLeft,\r\n      });\r\n    });\r\n    this.state.socket.on(\"receive-common-3\", (data) => {\r\n      console.log(\"receive-common-3\", data);\r\n\r\n      const { userId, roomId, targetId, selectCard } = data;\r\n      const { usersData } = this.state;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const userIdx = this.findUserIdx(userId);\r\n      const targetIdx = this.findUserIdx(targetId);\r\n\r\n      const targetCardIdx = usersData[targetIdx].userCards.indexOf(selectCard);\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" want \" + selectCard);\r\n      if (targetCardIdx === -1) return; // target doesnot have wanting card\r\n\r\n      const targetCard = usersData[targetIdx].userCards[targetCardIdx];\r\n      usersData[userIdx].userCards.push(targetCard);\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n      usersData[targetIdx].userCards.splice(targetCardIdx, 1);\r\n      usersData[targetIdx].numberOfCards =\r\n        usersData[targetIdx].userCards.length;\r\n\r\n      this.setState({\r\n        usersData,\r\n        usingEffectCard: Card.backCard,\r\n        cardSelectorId: -1,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-common-5\", (data) => {\r\n      console.log(\"new-common-5\", data);\r\n\r\n      const { userId, roomId, cards, cardsIdx } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const { usersData, discardPile, nextUserId, nextTurnLeft } = this.state;\r\n\r\n      const cardSelectorId = userId;\r\n      const cardSelectorCards = [...discardPile];\r\n      const showCardSelectorBackCard = false;\r\n\r\n      const userIdx = this.findUserIdx(userId);\r\n      const userCard = usersData[userIdx].userCards;\r\n      const newUserCard = [];\r\n      userCard.forEach((card, idx) => {\r\n        if (cardsIdx.indexOf(idx) === -1) newUserCard.push(card);\r\n        else discardPile.push(card);\r\n      });\r\n      usersData[userIdx].userCards = newUserCard;\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" use 5 different cards\");\r\n      this.setState({\r\n        usersData,\r\n        newCardSelectorId: cardSelectorId,\r\n        cardSelectorCards,\r\n        showCardSelectorBackCard,\r\n        cardUserId: userId,\r\n        usingEffectCard: Card.common5,\r\n        newNextUserId: nextUserId,\r\n        newNextTurnLeft: nextTurnLeft,\r\n        canNope: true,\r\n        isNoped: false,\r\n      });\r\n      this.newCountDown(timeForNope);\r\n    });\r\n    this.state.socket.on(\"receive-common-5\", (data) => {\r\n      console.log(\"receive-common-5\", data);\r\n\r\n      const { userId, roomId, selectCardIdx } = data;\r\n      const { usersData, discardPile } = this.state;\r\n      if (this.state.roomId !== roomId) return;\r\n      const selectCard = discardPile[selectCardIdx];\r\n\r\n      const userIdx = this.findUserIdx(userId);\r\n      usersData[userIdx].userCards.push(selectCard);\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n      discardPile.splice(selectCardIdx, 1);\r\n\r\n      this.setState({\r\n        usersData,\r\n        discardPile,\r\n        usingEffectCard: Card.backCard,\r\n        cardSelectorId: -1,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-exploding-puppy\", (data) => {\r\n      console.log(\"new-exploding-puppy\", data);\r\n      const { userId, roomId } = data;\r\n      const { usersData } = this.state;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" draw Exploding puppy\");\r\n      this.setState({ usersData, explodeId: userId });\r\n    });\r\n    this.state.socket.on(\"finish-exploding-puppy\", (data) => {\r\n      console.log(\"finish-exploding-puppy\", data);\r\n\r\n      const { userId, roomId, nextUserId } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const userIdx = this.findUserIdx(userId);\r\n      const { usersData, discardPile } = this.state;\r\n      const defuseIdx = usersData[userIdx].userCards.indexOf(Card.defuse);\r\n      if (defuseIdx === -1) return;\r\n      usersData[userIdx].userCards.splice(defuseIdx, 1);\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n      discardPile.push(Card.defuse);\r\n\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" use defuse\");\r\n      this.setState({\r\n        explodeId: -1,\r\n        hasDefuse: false,\r\n        nextUserId,\r\n        discardPile,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-lose\", (data) => {\r\n      console.log(\"new-lose\", data);\r\n\r\n      const { userId, roomId, nextUserId } = data;\r\n      const { usersData } = this.state;\r\n      const userIdx = this.findUserIdx(userId);\r\n      if (this.state.roomId !== roomId) return;\r\n      if (usersData[userIdx].isDead) return;\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" lose the game\");\r\n      usersData[userIdx].isDead = true;\r\n      this.setState({\r\n        explodeId: -1,\r\n        hasDefuse: false,\r\n        nextUserId,\r\n        nextTurnLeft: 1,\r\n        usersData,\r\n      });\r\n    });\r\n    this.state.socket.on(\"new-effect\", (data) => {\r\n      console.log(\"new-effect\", data);\r\n\r\n      const { userId, roomId, card } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n      this.setState({ usingEffectCard: Card.backCard, cardSelectorId: -1 });\r\n      switch (card) {\r\n        case Card.seeTheFuture:\r\n          const { seeTheFutureCards } = data;\r\n          this.setState({ seeTheFutureCards, seeTheFutureId: userId });\r\n          break;\r\n        case Card.favor:\r\n          const { targetId, favorCardIdx } = data;\r\n          const { usersData } = this.state;\r\n          const userIdx = this.findUserIdx(userId);\r\n          const targetIdx = this.findUserIdx(targetId);\r\n          const favorCard = usersData[targetIdx].userCards[favorCardIdx];\r\n          usersData[userIdx].userCards.push(favorCard);\r\n          usersData[userIdx].numberOfCards =\r\n            usersData[userIdx].userCards.length;\r\n          usersData[targetIdx].userCards.splice(favorCardIdx, 1);\r\n          usersData[targetIdx].numberOfCards =\r\n            usersData[targetIdx].userCards.length;\r\n          this.setState({ usersData });\r\n          this.newCountDown(timePerTurn);\r\n          break;\r\n        case Card.attack:\r\n          if (data.attackCard.nextUserId !== this.state.nextUserId) {\r\n            const nextUserName = this.getUserNameByUserId(\r\n              data.attackCard.nextUserId\r\n            );\r\n            this.addLogs(\"Start \" + nextUserName + \" turn\");\r\n          }\r\n          this.setState({\r\n            nextTurnLeft: data.attackCard.nextTurnLeft,\r\n            nextUserId: data.attackCard.nextUserId,\r\n          });\r\n          break;\r\n        case Card.skip:\r\n          if (data.skipCard.nextUserId !== this.state.nextUserId) {\r\n            const nextUserName = this.getUserNameByUserId(\r\n              data.skipCard.nextUserId\r\n            );\r\n            this.addLogs(\"Start \" + nextUserName + \" turn\");\r\n          }\r\n          this.setState({\r\n            nextTurnLeft: data.skipCard.nextTurnLeft,\r\n            nextUserId: data.skipCard.nextUserId,\r\n          });\r\n          this.newCountDown(timePerTurn);\r\n          break;\r\n      }\r\n    });\r\n    this.state.socket.on(\"new-select\", (data) => {\r\n      console.log(\"new-select\", data);\r\n\r\n      const { userId, roomId, targetId } = data;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      let cardSelectorId,\r\n        cardSelectorCards,\r\n        showCardSelectorBackCard,\r\n        newTargetId = targetId;\r\n      const { usingEffectCard } = this.state;\r\n      switch (usingEffectCard) {\r\n        case Card.favor:\r\n          cardSelectorId = targetId;\r\n          cardSelectorCards = this.getUserCard(targetId);\r\n          showCardSelectorBackCard = false;\r\n          newTargetId = userId;\r\n          break;\r\n        case Card.common2:\r\n          cardSelectorId = userId;\r\n          cardSelectorCards = this.getUserCard(targetId);\r\n          showCardSelectorBackCard = true;\r\n          break;\r\n        case Card.common3:\r\n          cardSelectorId = userId;\r\n          cardSelectorCards = allSelectableCards;\r\n          showCardSelectorBackCard = false;\r\n          break;\r\n      }\r\n      const userName = this.getUserNameByUserId(userId);\r\n      const targetUserName = this.getUserNameByUserId(targetId);\r\n      this.addLogs(userName + \" choose \" + targetUserName);\r\n      this.setState({\r\n        newCardSelectorId: cardSelectorId,\r\n        cardSelectorCards,\r\n        showCardSelectorBackCard,\r\n        targetId: newTargetId,\r\n        canNope: true,\r\n        isNoped: false,\r\n      });\r\n      this.newCountDown(timeForNope);\r\n    });\r\n    this.state.socket.on(\"new-nope\", (data) => {\r\n      console.log(\"new-nope\", data);\r\n      const { userId, roomId, card, cardIdx } = data;\r\n      const { usersData, discardPile } = this.state;\r\n      if (this.state.roomId !== roomId) return;\r\n\r\n      const userIdx = this.findUserIdx(userId);\r\n      if (usersData[userIdx].userCards[cardIdx] !== card) return;\r\n      discardPile.push(card);\r\n      usersData[userIdx].userCards.splice(cardIdx, 1);\r\n      usersData[userIdx].numberOfCards = usersData[userIdx].userCards.length;\r\n\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(userName + \" use nope\");\r\n      this.setState({ usersData, canNope: true, isNoped: !this.state.isNoped });\r\n      this.newCountDown(timeForNope);\r\n    });\r\n    this.state.socket.on(\"no-new-nope\", (data) => {\r\n      console.log(\"no-new-nope\", data);\r\n      const {\r\n        newNextUserId,\r\n        newNextTurnLeft,\r\n        cardUserId,\r\n        userId,\r\n        usingEffectCard,\r\n        newCardSelectorId,\r\n        isNoped,\r\n      } = this.state;\r\n      if (usingEffectCard !== Card.favor) this.newCountDown(timePerTurn);\r\n      this.setState({\r\n        nextUserId: newNextUserId,\r\n        nextTurnLeft: newNextTurnLeft,\r\n        newNextUserId: -1,\r\n        newNextTurnLeft: 0,\r\n        cardUserId: -1,\r\n        canNope: false,\r\n        isNoped: false,\r\n      });\r\n      if (!isNoped) {\r\n        switch (usingEffectCard) {\r\n          case Card.favor:\r\n            this.setState({\r\n              cardSelectorId: newCardSelectorId,\r\n              newCardSelectorId: -1,\r\n            });\r\n            break;\r\n          case Card.common2:\r\n            this.setState({\r\n              cardSelectorId: newCardSelectorId,\r\n              newCardSelectorId: -1,\r\n            });\r\n            break;\r\n          case Card.common3:\r\n            this.setState({\r\n              cardSelectorId: newCardSelectorId,\r\n              newCardSelectorId: -1,\r\n            });\r\n            break;\r\n          case Card.common5:\r\n            this.setState({\r\n              cardSelectorId: newCardSelectorId,\r\n              newCardSelectorId: -1,\r\n            });\r\n            break;\r\n          default:\r\n            if (cardUserId === userId) this.useEffect(userId, usingEffectCard);\r\n        }\r\n      } else if (usingEffectCard === Card.favor) {\r\n        this.newCountDown(timePerTurn);\r\n      }\r\n    });\r\n    this.state.socket.on(\"new-exit\", (data) => {\r\n      console.log(\"new-exit\", data);\r\n\r\n      if (data.roomId != this.state.roomId) return;\r\n      const { userId, roomId, nextUserId } = data;\r\n      const { usersData } = this.state;\r\n      const userIdx = this.findUserIdx(userId);\r\n      if (roomId != this.state.roomId) return;\r\n      if (usersData[userIdx].isDead) return;\r\n      const userName = this.getUserNameByUserId(userId);\r\n      this.addLogs(\r\n        userName + \" exited from this room; Removed 1 exploding puppy\"\r\n      );\r\n      usersData[userIdx].isDead = true;\r\n      this.setState({ usersData, nextUserId, nextTurnLeft: 1 });\r\n    });\r\n    this.state.socket.on(\"new-win\", (data) => {\r\n      console.log(\"new-win\", data);\r\n      const { result } = data;\r\n      this.addLogs(\"Game end\");\r\n      this.setState({\r\n        result: result.reverse().map((userId) => ({\r\n          userId,\r\n          userName: this.getUserNameByUserId(userId),\r\n          profileImgUrl: this.state.usersData[this.findUserIdx(userId)]\r\n            .profileImgUrl,\r\n        })),\r\n      });\r\n\r\n      const { userProgress, userId } = this.state;\r\n      this.updateUserProgress(userId, result, userProgress);\r\n    });\r\n  }\r\n\r\n  // --------- end componentDidMount() ---------\r\n\r\n  getPropsFromUserId = (userId) => {\r\n    const userIdx = this.findUserIdx(userId);\r\n    const data = {\r\n      roomId: this.state.roomId,\r\n      createdTime: this.state.createdTime,\r\n      leftCardNumber: this.state.leftCardNumber,\r\n      nextUserId: this.state.nextUserId,\r\n      nextTurnLeft: this.state.nextTurnLeft,\r\n      discardPile: this.state.discardPile,\r\n      usersData: this.state.usersData,\r\n      canNope: this.state.canNope,\r\n      isNoped: this.state.isNoped,\r\n      countDownTime: this.state.countDownTime,\r\n      cardSelectorId: this.state.cardSelectorId,\r\n      userId: this.state.userId,\r\n      userProgress: this.state.userProgress,\r\n    };\r\n    if (this.state.usersData[userIdx]?.userCards && userIdx >= 0)\r\n      data.userCards = this.state.usersData[userIdx].userCards[userIdx];\r\n    return data;\r\n  };\r\n\r\n  getUserCard = (userId) => {\r\n    const userIdx = this.findUserIdx(userId);\r\n    if (this.state.usersData[userIdx]?.userCards && userIdx >= 0)\r\n      return this.state.usersData[userIdx].userCards;\r\n    return [];\r\n  };\r\n\r\n  findUserIdx = (userId) => {\r\n    const { usersData } = this.state;\r\n    let idx = -1;\r\n    usersData.forEach((userData, curIdx) => {\r\n      if (userData.userId === userId) idx = curIdx;\r\n    });\r\n    return idx;\r\n  };\r\n\r\n  createCustomRoom = (userId) => {\r\n    const data = {\r\n      userId, // Room creator's ID\r\n    };\r\n    this.state.socket.emit(\"create-custom-room\", data);\r\n  };\r\n\r\n  joinCustomRoom = (userId) => {\r\n    const userIdx = this.findUserIdx(userId);\r\n    if (userIdx !== -1) return;\r\n    if (this.state.leftCardNumber !== -1) return; // cant join after game started\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n    };\r\n    this.state.socket.emit(\"join-custom-room\", data);\r\n  };\r\n\r\n  drawCard = (userId) => {\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n    };\r\n    if (\r\n      userId !== this.state.nextUserId ||\r\n      this.state.canNope ||\r\n      this.state.cardSelectorId !== -1\r\n    )\r\n      return;\r\n    this.state.socket.emit(\"draw-card\", data);\r\n  };\r\n\r\n  startGame = () => {\r\n    const data = {\r\n      roomId: this.state.roomId,\r\n    };\r\n    this.state.socket.emit(\"start-game\", data);\r\n  };\r\n\r\n  useCard = (userId, cardIdx) => {\r\n    const userCards = this.getUserCard(userId);\r\n    const card = userCards[cardIdx];\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n      card,\r\n      cardIdx,\r\n    };\r\n    if (card === Card.nope) {\r\n      this.state.socket.emit(\"use-nope\", data);\r\n    } else this.state.socket.emit(\"use-card\", data);\r\n  };\r\n\r\n  selectFavorCard = (userId, targetId, card) => {\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n      targetId,\r\n      card,\r\n    };\r\n    this.state.socket.emit(\"select-favor-card\", data);\r\n  };\r\n\r\n  useCommon2 = (userId, cardsIdx) => {\r\n    const { usersData, roomId } = this.state;\r\n    const userIdx = this.findUserIdx(userId);\r\n    const cards = cardsIdx.map(\r\n      (cardIdx) => usersData[userIdx].userCards[cardIdx]\r\n    );\r\n\r\n    // two of a kind, can be any cards e.g. two of a common cat, two of skip\r\n    if (cardsIdx.length !== 2) return;\r\n    if (cards[0] !== cards[1]) return;\r\n\r\n    const data = {\r\n      userId,\r\n      roomId,\r\n      cards,\r\n      cardsIdx,\r\n    };\r\n    this.state.socket.emit(\"use-common-2\", data);\r\n  };\r\n\r\n  chooseTargetCard = (targetId) => {\r\n    alert(\"chosse card from \" + targetId);\r\n    return 0; // todo:\r\n  };\r\n\r\n  selectCommon2 = (userId, targetId, targetCardIdx) => {\r\n    const { usersData, roomId } = this.state;\r\n    const targetCard = usersData[targetId].userCards[targetCardIdx];\r\n    const data = {\r\n      userId,\r\n      roomId,\r\n      targetId,\r\n      targetCard,\r\n      targetCardIdx,\r\n    };\r\n    this.state.socket.emit(\"select-common-2\", data);\r\n  };\r\n\r\n  useCommon3 = (userId, cardsIdx) => {\r\n    const { usersData, roomId } = this.state;\r\n\r\n    const userIdx = this.findUserIdx(userId);\r\n    const cards = cardsIdx.map(\r\n      (cardIdx) => usersData[userIdx].userCards[cardIdx]\r\n    );\r\n\r\n    if (cardsIdx.length !== 3) return;\r\n    if (cards[0] !== cards[1] || cards[0] !== cards[2]) return;\r\n\r\n    const data = {\r\n      userId,\r\n      roomId,\r\n      cards,\r\n      cardsIdx,\r\n    };\r\n    this.state.socket.emit(\"use-common-3\", data);\r\n  };\r\n\r\n  selectCommon3 = (userId, targetId, targetCardIdx) => {\r\n    const { usersData, roomId } = this.state;\r\n    const targetCard = usersData[targetId].userCards[targetCardIdx];\r\n    const data = {\r\n      userId,\r\n      roomId,\r\n      targetId,\r\n      targetCardIdx,\r\n    };\r\n    this.state.socket.emit(\"select-common-3\", data);\r\n  };\r\n\r\n  useCommon5 = (userId, cardsIdx) => {\r\n    const { usersData, roomId } = this.state;\r\n    const userIdx = this.findUserIdx(userId);\r\n    const cards = cardsIdx.map(\r\n      (cardIdx) => usersData[userIdx].userCards[cardIdx]\r\n    );\r\n\r\n    if (cardsIdx.length !== 5) return;\r\n    cards.sort();\r\n    for (let i = 0; i < 4; i++) {\r\n      if (cards[i] === cards[i + 1]) return;\r\n    }\r\n\r\n    const data = {\r\n      userId,\r\n      roomId,\r\n      cards,\r\n      cardsIdx,\r\n    };\r\n    this.state.socket.emit(\"use-common-5\", data);\r\n  };\r\n\r\n  selectCommon5 = (userId, selectCardIdx) => {\r\n    const { discardPile } = this.state;\r\n    const selectCard = discardPile[selectCardIdx];\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n      selectCard,\r\n      selectCardIdx,\r\n    };\r\n    this.state.socket.emit(\"select-common-5\", data);\r\n  };\r\n\r\n  drawExplodingPuppy = (userId) => {\r\n    if (userId !== this.state.userId) return;\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n    };\r\n    this.state.socket.emit(\"draw-exploding-puppy\", data);\r\n  };\r\n\r\n  insertExplodingPuppy = (userId, idx) => {\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n      idx,\r\n    };\r\n    this.state.socket.emit(\"insert-exploding-puppy\", data);\r\n  };\r\n\r\n  gameLose = (userId) => {\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n    };\r\n    this.state.socket.emit(\"game-lose\", data);\r\n  };\r\n\r\n  handleUseCard = (userId, cardsIdx) => {\r\n    switch (cardsIdx.length) {\r\n      case 1:\r\n        this.useCard(userId, cardsIdx[0]);\r\n        break;\r\n      case 2:\r\n        this.useCommon2(userId, cardsIdx);\r\n        break;\r\n      case 3:\r\n        this.useCommon3(userId, cardsIdx);\r\n        break;\r\n      case 5:\r\n        this.useCommon5(userId, cardsIdx);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  sendMessageRoom = (fromUserId, fromRoomId, fromUsername, message) => {\r\n    let data = {\r\n      fromUserId: fromUserId,\r\n      fromRoomId: fromRoomId,\r\n      fromUsername: fromUsername,\r\n      message: message,\r\n    };\r\n    this.state.socket.emit(\"message-send-room\", data);\r\n  };\r\n\r\n  useEffect = (userId, card) => {\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n      card,\r\n    };\r\n    this.newCountDown(timePerTurn);\r\n    this.state.socket.emit(\"use-effect\", data);\r\n  };\r\n\r\n  closeSeeTheFutureDialog = () => {\r\n    this.setState({ seeTheFutureId: -1, seeTheFutreCard: [] });\r\n  };\r\n\r\n  selectPlayer = (userId, targetId) => {\r\n    const { roomId, usingEffectCard } = this.state;\r\n    const data = {\r\n      userId,\r\n      roomId: roomId,\r\n      targetId,\r\n      card: usingEffectCard,\r\n    };\r\n    this.setState({ isSelectingPlayerId: -1 });\r\n    this.state.socket.emit(\"select-player\", data);\r\n  };\r\n\r\n  setSelectedCardIdx = (userId, selectedCardIdx) => {\r\n    const { usingEffectCard, targetId, roomId } = this.state;\r\n    const data = {\r\n      userId,\r\n      roomId,\r\n      card: usingEffectCard,\r\n      targetId,\r\n    };\r\n    this.setState({ cardSelectorId: -1, usingEffectCard: Card.backCard });\r\n    switch (usingEffectCard) {\r\n      case Card.favor:\r\n        data.favorCardIdx = selectedCardIdx;\r\n        data.userId = targetId;\r\n        data.targetId = userId;\r\n        this.state.socket.emit(\"use-effect\", data);\r\n        break;\r\n      case Card.common2:\r\n        data.targetCardIdx = selectedCardIdx;\r\n        this.state.socket.emit(\"select-common-2\", data);\r\n        break;\r\n      case Card.common3:\r\n        data.selectCard = allSelectableCards[selectedCardIdx];\r\n        this.state.socket.emit(\"select-common-3\", data);\r\n        break;\r\n      case Card.common5:\r\n        data.selectCardIdx = selectedCardIdx;\r\n        this.state.socket.emit(\"select-common-5\", data);\r\n        break;\r\n    }\r\n  };\r\n\r\n  hasDefuse = (userId) => {\r\n    const userIdx = this.findUserIdx(userId);\r\n    const { usersData } = this.state;\r\n    if (userIdx === -1) return false;\r\n    if (!usersData[userIdx].userCards) return false;\r\n    const defuseIdx = usersData[userIdx].userCards.indexOf(Card.defuse);\r\n    if (defuseIdx !== -1) return true;\r\n    return false;\r\n  };\r\n\r\n  handleUseNope = (userId) => {\r\n    // now use only for test (click on use nope button below)\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n    };\r\n    this.state.socket.emit(\"use-nope\", data);\r\n  };\r\n\r\n  newCountDown = (second) => {\r\n    this.setState({ countDownTime: Date.now() + second * 1000 });\r\n  };\r\n\r\n  handleCompleteNopeCountdown = () => {\r\n    const { roomId, cardUserId, userId } = this.state;\r\n    const data = {\r\n      roomId: roomId,\r\n    };\r\n    if (cardUserId === userId) this.state.socket.emit(\"no-one-nope\", data);\r\n  };\r\n\r\n  addLogs = (log) => {\r\n    const { logs } = this.state;\r\n    logs.push(log);\r\n    this.setState(logs);\r\n  };\r\n\r\n  getUserNameByUserId = (userId) => {\r\n    const { usersData } = this.state;\r\n    const userIdx = this.findUserIdx(userId);\r\n    if (userIdx !== -1) return usersData[userIdx].userName;\r\n    return userId;\r\n  };\r\n\r\n  handleExit = (userId) => {\r\n    const data = {\r\n      userId,\r\n      roomId: this.state.roomId,\r\n    };\r\n    this.state.socket.emit(\"player-exit\", data);\r\n  };\r\n\r\n  getUser = (userId) => {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        axios\r\n          .get(`${ENDPOINT}/users/${userId}`)\r\n          .then((res) => {\r\n            resolve(res.data);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      } catch (err) {}\r\n    });\r\n  };\r\n\r\n  setUserProgress = async () => {\r\n    const resp = await this.getUser(this.state.userId);\r\n    const userProgress = {\r\n      exp: resp.userExp,\r\n      rank: resp.userRank,\r\n      level: resp.userLevel,\r\n    };\r\n    this.setState({ userProgress });\r\n  };\r\n\r\n  getMaxExp = (level) => 100 + level * level * 5;\r\n\r\n  updateUserProgress = (userId, result, userProgress) => {\r\n    const plusExp = 250; // todo: will +500 if rank\r\n    let level = userProgress.level;\r\n    let maxExp = this.getMaxExp(level);\r\n    let exp = userProgress.exp + plusExp;\r\n\r\n    while (exp >= maxExp) {\r\n      exp -= maxExp;\r\n      level += 1;\r\n      maxExp = this.getMaxExp(level);\r\n    }\r\n\r\n    const newUserProgress = {\r\n      // userRank: userProgress.rank + ???, todo: add this if rank\r\n      userExp: exp,\r\n      userLevel: level,\r\n    };\r\n    sessionStorage.setItem(\"userExp\", exp);\r\n    sessionStorage.setItem(\"userLevel\", level);\r\n    axios.patch(`${ENDPOINT}/users/progress/${userId}`, newUserProgress);\r\n  };\r\n\r\n  render() {\r\n    // const classes = useStyles();\r\n    const roomId = \"100001\";\r\n\r\n    const {\r\n      socket,\r\n      explodeId,\r\n      seeTheFutureId,\r\n      seeTheFutureCards,\r\n      discardPile,\r\n      isSelectingPlayerId,\r\n      cardSelectorId,\r\n      cardSelectorCards,\r\n      usersData,\r\n      leftCardNumber,\r\n      nextUserId,\r\n      showCardSelectorBackCard,\r\n      canNope,\r\n      countDownTime,\r\n      logs,\r\n      result,\r\n      userProgress,\r\n    } = this.state;\r\n    const userId = window.sessionStorage.getItem(\"userId\"); // todo:\r\n    const userIdx = this.findUserIdx(userId);\r\n    let userCards = [];\r\n    if (\r\n      this.state.usersData.length > userIdx &&\r\n      userIdx !== -1 &&\r\n      this.state.usersData[userIdx].userCards\r\n    ) {\r\n      userCards = this.state.usersData[userIdx].userCards;\r\n    }\r\n    return (\r\n      <div\r\n        style={{\r\n          height: \"100vh\",\r\n          width: \"100vw\",\r\n          maxWidth: \"100%\",\r\n          background: Palette.yellow100,\r\n        }}\r\n      >\r\n        <Chat\r\n          roomId={roomId}\r\n          socket={this.state.socket}\r\n          sendMessageRoom={this.sendMessageRoom}\r\n          usersData={usersData}\r\n        />\r\n        <Game\r\n          socket={socket}\r\n          createCustomRoom={this.createCustomRoom}\r\n          joinCustomRoom={this.joinCustomRoom}\r\n          startGame={this.startGame}\r\n          getPropsFromUserId={this.getPropsFromUserId}\r\n          userCards={userCards}\r\n          drawCard={this.drawCard}\r\n          hasDefuse={this.hasDefuse}\r\n          explodeId={explodeId}\r\n          insertExplodingPuppy={this.insertExplodingPuppy}\r\n          handleUseCard={this.handleUseCard}\r\n          seeTheFutureId={seeTheFutureId}\r\n          seeTheFutureCards={seeTheFutureCards}\r\n          closeSeeTheFutureDialog={this.closeSeeTheFutureDialog}\r\n          gameLose={this.gameLose}\r\n          topDiscardPile={discardPile[discardPile.length - 1]}\r\n          isSelectingPlayerId={isSelectingPlayerId}\r\n          selectPlayer={this.selectPlayer}\r\n          cardSelectorId={cardSelectorId}\r\n          setSelectedCardIdx={this.setSelectedCardIdx}\r\n          cardSelectorCards={cardSelectorCards}\r\n          usersData={usersData}\r\n          numberOfDeckCards={leftCardNumber}\r\n          nextUserId={nextUserId}\r\n          showCardSelectorBackCard={showCardSelectorBackCard}\r\n          canNope={canNope}\r\n          handleUseNope={this.handleUseNope}\r\n          countDownTime={countDownTime}\r\n          newCountDown={this.newCountDown}\r\n          handleCompleteNopeCountdown={this.handleCompleteNopeCountdown}\r\n          logs={logs}\r\n          result={result}\r\n          handleExit={this.handleExit}\r\n          userProgress={userProgress}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Gameplay;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport Redirect from \"./Redirect\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction isNumeric(value) {\r\n  return /^-?\\d+$/.test(value);\r\n}\r\n\r\nfunction AuthGaurd({ children }) {\r\n  const [userId, setUserId] = useState(sessionStorage.getItem(\"userId\"));\r\n\r\n  if (!userId) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n  // if (!isNumeric(userId)) {\r\n  //   return <Redirect to=\"/login\" />;\r\n  // }\r\n\r\n  return <div>{children}</div>;\r\n}\r\nexport default AuthGaurd;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport { Button, makeStyles, Typography, Grid } from \"@material-ui/core\";\r\nimport { Palette } from \"components\";\r\nimport Redirect from \"components/Redirect\";\r\nimport { useHistory } from \"react-router\";\r\nimport { SnackbarProvider, useSnackbar } from \"notistack\";\r\nimport background from \"image/shibaBackground.svg\";\r\nimport clsx from \"clsx\";\r\nimport logo from \"../../shiba-inu.svg\";\r\nimport axios from \"axios\";\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\n// const ENDPOINT = \"http://18.141.138.13:10000\";\r\nconst ENDPOINT = process.env.REACT_APP_BACKEND_API || \"http://localhost:10000\";\r\n\r\nconst useStlyes = makeStyles((the) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n    minHeight: \"100vh\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    backgroundColor: \"#465A74\",\r\n    backgroundImage: `url(${background})`,\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    marginTop: \"80px\",\r\n    // backdropFilter:\"blur(4px)\",\r\n    // border:\"1px solid black\",\r\n    padding: \"40px 24px\",\r\n    borderRadius: \"16px\",\r\n    maxHeight: \"100vh\",\r\n  },\r\n  googleButton: {\r\n    background: \"#2F80ED\",\r\n    color: \"white\",\r\n    padding: \"4px 24px\",\r\n    width: \"200px\",\r\n    fontSize: \"24px\",\r\n    margin: \"8px 0\",\r\n    fontFamily: \"Quick\",\r\n    \"&:hover\": {\r\n      background: \"#2F80ED\",\r\n    },\r\n  },\r\n  loginButton: {\r\n    background: \"linear-gradient(to right, #FFEFBA, #FFFFFF);\",\r\n    \"-webkit-background-clip\": \"text\",\r\n    \"-webkit-text-fill-color\": \"transparent\",\r\n    \"text-shadow\": \"rgba(17, 12, 46, 0.15) 0px 48px 100px 0px\",\r\n    border: \"3px solid #78ffd6\",\r\n    padding: \"4px 24px\",\r\n    width: \"320px\",\r\n    margin: \"16px 0\",\r\n    fontFamily: \"Quick\",\r\n    fontSize: \"24px\",\r\n    transition: \"all 0.3s ease-in-out\",\r\n    fontWeight: 600,\r\n    borderRadius: \"8px\",\r\n    height: \"60px\",\r\n    backdropFilter: \"blur(2px)\",\r\n    // \"& span\": {\r\n    //   position: \"absolute\",\r\n    //   width: \"25%\",\r\n    //   height: \"100%\",\r\n    //   backgroundColor: \"red\",\r\n    //   transform: \"translateY(150%)\",\r\n    //   borderRadius: \"50%\",\r\n    //   left: \"calc((var(--n) - 1) * 25%)\",\r\n    //   transition: \"0.5s\",\r\n    //   transitionDelay: \"calc((var(--n) - 1) * 0.1s)\",\r\n    //   zIndex: -1,\r\n    // },\r\n    // \"& span:nth-child(1)\" : {\r\n    //   \"--n\": 1,\r\n    // },\r\n    // \"& span:nth-child(2)\" : {\r\n    //   \"--n\": 2,\r\n    // },\r\n    // \"& span:nth-child(3)\" : {\r\n    //   \"--n\": 3,\r\n    // },\r\n    // \"& span:nth-child(4)\" : {\r\n    //   \"--n\": 4,\r\n    // },\r\n    \"&:hover\": {\r\n      // border:\"1px solid #ffa751\",\r\n      transform: \"scale(1.2)\",\r\n      // boxShadow: \"inset 6.5em 0 0 0 red\",\r\n      // border:\"3px sold #ef8e38\"\r\n    },\r\n  },\r\n  title: {\r\n    transition: \"all 0.3s ease-in-out\",\r\n    paddingBottom: \"32px\",\r\n    fontFamily: \"Quick\",\r\n    fontSize: \"64px\",\r\n    // fontWeight:800,\r\n    // background:\"linear-gradient(to right, #a8ff78, #78ffd6);\",\r\n    background: \"linear-gradient(to right, #FFEFBA, #FFFFFF);\",\r\n    cursor: \"pointer\",\r\n    \"-webkit-background-clip\": \"text\",\r\n    \"-webkit-text-fill-color\": \"transparent\",\r\n    // \"text-shadow\": \"rgba(17, 12, 46, 0.15) 0px 48px 100px 0px\",\r\n    // textShadow:\"2px 2px 4px #000000\",\r\n    \"&:hover\": {\r\n      // border:\"1px solid #ffa751\",\r\n      transform: \"scale(1.2)\",\r\n      // boxShadow: \"inset 6.5em 0 0 0 red\",\r\n    },\r\n  },\r\n  // slide : {\r\n  //   \"& :hover\" : {\r\n  //     boxShadow: \"inset 6.5em 0 0 0 red\",\r\n  //   },\r\n  //   \"&:focus\" : {\r\n  //     boxShadow: \"inset 6.5em 0 0 0 var(--hover)\",\r\n  //   }\r\n  // }\r\n  loadingScreen: {\r\n    position: \"absolute\",\r\n    bottom: \"0\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    // background:\"rgba(0,0,0,0.5)\",\r\n    // filter:\"blur(4px)\",\r\n    // backdropFilter:\"blur(20px)\",\r\n    width: \"100vw\",\r\n    // borderRadius:\"100% 100% 0 0\",\r\n    // height:\"10px\",\r\n  },\r\n  loadingContent: {\r\n    // background:\"black\",\r\n    // filter:\"blur(4px)\",\r\n    // height:\"100vh\",\r\n    fontSize: \"0px\",\r\n    transition: \"height 0.5s ease-in\",\r\n    width: \"20vw\",\r\n    marginTop: \"auto\",\r\n  },\r\n  gradien1: {\r\n    background: \"linear-gradient(to bottom, #ED213A, #93291E);\",\r\n    transitionDelay: \"0s\",\r\n  },\r\n  gradien2: {\r\n    background: \"linear-gradient(to bottom, #FDC830, #F37335);\",\r\n    transitionDelay: \"0.3s\",\r\n  },\r\n  gradien3: {\r\n    background: \"linear-gradient(to bottom, #ad5389, #3c1053);\",\r\n    transitionDelay: \"0.6s\",\r\n  },\r\n  gradien4: {\r\n    background: \"linear-gradient(to bottom, #a8c0ff, #3f2b96);\",\r\n    transitionDelay: \"0.9s\",\r\n  },\r\n  gradien5: {\r\n    background: \"linear-gradient(to bottom, #11998e, #38ef7d);\",\r\n    transitionDelay: \"1.2s\",\r\n  },\r\n}));\r\n\r\nvar userId_tmp;\r\nvar userName_tmp;\r\n\r\nfunction Auth() {\r\n  const clientId =\r\n    process.env.GOOGLE_CLIENT_ID ||\r\n    \"315916359879-9hc3ac4snn53s7cma3rbfbotm84q6tfl.apps.googleusercontent.com\";\r\n  const history = useHistory();\r\n  const classes = useStlyes();\r\n  const [loading, setLoading] = useState(false);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const isDevEnv =\r\n    !process.env.NODE_ENV || process.env.NODE_ENV === \"development\";\r\n\r\n  const onLoginSuccess = () => {\r\n    let userName = sessionStorage.getItem(\"userName\");\r\n    let userId = sessionStorage.getItem(\"userId\");\r\n    if (userName) {\r\n      enqueueSnackbar(`Welcome ${userName} (${userId})`, {\r\n        variant: \"success\",\r\n      });\r\n    } else {\r\n      enqueueSnackbar(`logged in as ${userId}`, { variant: \"success\" });\r\n    }\r\n    setTimeout(function () {\r\n      enqueueSnackbar(`Entering the game`);\r\n      setLoading(true);\r\n    }, 1000);\r\n    setTimeout(function () {\r\n      history.push(\"/home\");\r\n    }, 3000);\r\n  };\r\n\r\n  const mockUserId = () => {\r\n    userId_tmp = Math.floor(100000 + Math.random() * 900000);\r\n    window.sessionStorage.setItem(\"userId\", userId_tmp);\r\n    return userId_tmp;\r\n  };\r\n\r\n  const setLoginSession = (loginData, type) => {\r\n    window.sessionStorage.setItem(\"userId\", loginData.userId);\r\n    window.sessionStorage.setItem(\"userName\", loginData.userName);\r\n    window.sessionStorage.setItem(\"userRank\", loginData.userRank);\r\n    window.sessionStorage.setItem(\"userLevel\", loginData.userLevel);\r\n    window.sessionStorage.setItem(\"userExp\", loginData.userExp);\r\n    window.sessionStorage.setItem(\"winRate\", loginData.winRate);\r\n    window.sessionStorage.setItem(\"loginType\", type);\r\n  };\r\n\r\n  const googleAuthen = (profile, loginType) => {\r\n    sessionStorage.setItem(\r\n      \"profileImgUrl\",\r\n      profile.imageUrl || profile.getImageUrl()\r\n    );\r\n    return new Promise((resolve, reject) => {\r\n      let user = {\r\n        snsId: profile.id || profile.getId(),\r\n        userName: profile.name || profile.getName(),\r\n        loginType: loginType,\r\n      };\r\n      try {\r\n        axios\r\n          .get(`${ENDPOINT}/users`, {\r\n            params: user,\r\n          })\r\n          .then((res) => {\r\n            setLoginSession(res.data, \"login\");\r\n            resolve(res.data);\r\n          })\r\n          .catch((err) => {\r\n            // console.log(err.response.data);\r\n            axios\r\n              .post(`${ENDPOINT}/users`, user)\r\n              .then((res) => {\r\n                setLoginSession(res.data, \"regis\");\r\n                resolve(res.data);\r\n              })\r\n              .catch((err) => {});\r\n          });\r\n      } catch (err) {}\r\n    });\r\n  };\r\n\r\n  async function onSignIn(googleUser) {\r\n    // console.log(\"success\");\r\n    if (googleUser.error) return;\r\n    var profile = googleUser.getBasicProfile();\r\n    // console.log(\"ID: \" + profile.getId()); // Do not send to your backend! Use an ID token instead.\r\n    // console.log(\"Name: \" + profile.getName());\r\n    // console.log(\"Image URL: \" + profile.getImageUrl());\r\n    // console.log(\"Email: \" + profile.getEmail()); // This is null if the 'email' scope is not present.\r\n    // console.log(googleUser);\r\n    // console.log(googleUser)\r\n    if (googleUser.accessToken) {\r\n      // mockUserId()\r\n      const userData = await googleAuthen(profile, \"google\");\r\n      onLoginSuccess();\r\n    }\r\n  }\r\n\r\n  const responseFacebook = async (response) => {\r\n    // console.log(response);\r\n    let profile = {\r\n      id: response.id,\r\n      name: response.name,\r\n      imageUrl: response.picture.data.url,\r\n    };\r\n    if (response.accessToken) {\r\n      const userData = await googleAuthen(profile, \"facebook\");\r\n      onLoginSuccess();\r\n    }\r\n  };\r\n\r\n  function onDevSignIn() {\r\n    const userId = mockUserId();\r\n    onLoginSuccess();\r\n    setLoginSession(\r\n      {\r\n        userId,\r\n        userName: userId,\r\n        userRank: 1,\r\n        userLevel: 1,\r\n        userExp: 0,\r\n        winRate: 0,\r\n      },\r\n      \"dev\"\r\n    );\r\n  }\r\n\r\n  // const handleClose = (event, reason) => {\r\n  //   if (reason === 'clickaway') {\r\n  //     return;\r\n  //   }\r\n  //   setShowNoti(false);\r\n  // };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        <img\r\n          src={logo}\r\n          className=\"App-logo\"\r\n          alt=\"logo\"\r\n          style={{ width: \"200px\", height: \"200px\", marginBottom: \"32px\" }}\r\n        />\r\n        <Typography\r\n          align=\"center\"\r\n          className={clsx(classes.title, classes.slide)}\r\n        >\r\n          Exploding Puppy\r\n        </Typography>\r\n        <FacebookLogin\r\n          appId=\"508150123401725\"\r\n          // autoLoad\r\n          render={(renderProps) => (\r\n            <Button\r\n              className={classes.loginButton}\r\n              onClick={renderProps.onClick}\r\n              disabled={renderProps.disabled}\r\n            >\r\n              Facebook Login\r\n            </Button>\r\n          )}\r\n          fields=\"name,email,picture.type(large)\"\r\n          callback={responseFacebook}\r\n        />\r\n        <GoogleLogin\r\n          clientId={clientId}\r\n          render={(renderProps) => (\r\n            <Button\r\n              className={classes.loginButton}\r\n              onClick={renderProps.onClick}\r\n              disabled={renderProps.disabled}\r\n            >\r\n              Google Login\r\n            </Button>\r\n          )}\r\n          buttonText=\"Login\"\r\n          onSuccess={onSignIn}\r\n          onFailure={onSignIn}\r\n          cookiePolicy={\"single_host_origin\"}\r\n        />\r\n        {isDevEnv && (\r\n          <Button\r\n            className={clsx(classes.loginButton)}\r\n            onClick={() => onDevSignIn()}\r\n          >\r\n            dev login\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <div className={classes.loadingScreen}>\r\n        <div\r\n          className={clsx(classes.loadingContent, classes.gradien1)}\r\n          style={{ height: loading ? \"100vh\" : \"0\" }}\r\n        >\r\n          &nbsp;\r\n        </div>\r\n        <div\r\n          className={clsx(classes.loadingContent, classes.gradien2)}\r\n          style={{ height: loading ? \"100vh\" : \"0\" }}\r\n        >\r\n          &nbsp;\r\n        </div>\r\n        <div\r\n          className={clsx(classes.loadingContent, classes.gradien3)}\r\n          style={{ height: loading ? \"100vh\" : \"0\" }}\r\n        >\r\n          &nbsp;\r\n        </div>\r\n        <div\r\n          className={clsx(classes.loadingContent, classes.gradien4)}\r\n          style={{ height: loading ? \"100vh\" : \"0\" }}\r\n        >\r\n          &nbsp;\r\n        </div>\r\n        <div\r\n          className={clsx(classes.loadingContent, classes.gradien5)}\r\n          style={{ height: loading ? \"100vh\" : \"0\" }}\r\n        >\r\n          &nbsp;\r\n        </div>\r\n      </div>\r\n      {/* <div className={classes.loadingScreen}>\r\n        nbsp;\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\nexport default function Authen() {\r\n  return (\r\n    <SnackbarProvider maxSnack={3}>\r\n      <Auth />\r\n    </SnackbarProvider>\r\n  );\r\n}\r\n","/* eslint-disable react/no-array-index-key */\r\nimport React, { lazy, Suspense, Fragment } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport LoadingScreen from \"components/LoadingScreen\";\r\nimport Redirect from \"components/Redirect\";\r\nimport Home from \"views/Home\";\r\nimport Welcome from \"views/Welcome\";\r\nimport NotFound from \"views/NotFound\";\r\nimport Gameplay from \"views/Gameplay\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport AuthGaurd from \"components/AuthGaurd\";\r\nimport Authen from \"views/Auth\";\r\n\r\n// const ENDPOINT = \"18.141.138.13:10001\";\r\nconst SOCKET_ENDPOINT =\r\n  process.env.REACT_APP_BACKEND_SOCKET || \"http://18.141.138.13:10001\";\r\nconst MATCHMAKING_SOCKET_ENDPOINT =\r\n  process.env.MATCHMAKING_SOCKET || \"localhost:3030\";\r\nconst socket = socketIOClient(SOCKET_ENDPOINT);\r\nconst matchmakingSocket = socketIOClient(MATCHMAKING_SOCKET_ENDPOINT);\r\n\r\nconst routesConfig = [\r\n  {\r\n    //auto forward localhost:3002 to localhost:3002/home\r\n    exact: true,\r\n    path: \"/\",\r\n    component: () => <Redirect to=\"/home\" />,\r\n  },\r\n  {\r\n    exact: true,\r\n    path: \"/leadership\",\r\n    component: () => <Redirect to=\"/leadership/top\" />,\r\n  },\r\n  {\r\n    //try \"http://localhost:3002/helloworld/123\"\r\n    exact: false,\r\n    path: \"/helloworld/:username\",\r\n    component: lazy(() => import(\"views/Helloworld\")),\r\n  },\r\n  {\r\n    exact: true,\r\n    path: \"/leadership/top\",\r\n    component: lazy(() => import(\"views/leadership/Top\")),\r\n  },\r\n  {\r\n    exact: true,\r\n    path: \"/leadership/myscore\",\r\n    component: lazy(() => import(\"views/leadership/SelfScore\")),\r\n  },\r\n  //add more path ...\r\n  {\r\n    exact: true,\r\n    guard: AuthGaurd,\r\n    path: \"/gameplay/:roomId\",\r\n    component: (rest) => <Gameplay socket={socket} {...rest} />,\r\n  },\r\n  {\r\n    exact: true,\r\n    path: \"/login\",\r\n    component: () => <Authen />,\r\n  },\r\n  //add more path\r\n  {\r\n    path: \"*\",\r\n    routes: [\r\n      {\r\n        exact: true,\r\n        guard: AuthGaurd,\r\n        path: \"/home\",\r\n        component: () => <Home matchmakingSocket={matchmakingSocket} />,\r\n      },\r\n      {\r\n        exact: true,\r\n        guard: AuthGaurd,\r\n        path: \"/welcome\",\r\n        component: () => <Welcome />,\r\n      },\r\n      {\r\n        exact: true,\r\n        path: \"/404\",\r\n        component: NotFound,\r\n      },\r\n      {\r\n        //anything that not match from \"path\" above will be route to \"/404\"\r\n        exact: true,\r\n        path: \"*\",\r\n        component: () => <Redirect to=\"/404\" />,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst renderRoutes = (routes) =>\r\n  routes ? (\r\n    <Suspense fallback={<LoadingScreen />}>\r\n      <Switch>\r\n        {routes.map((route, i) => {\r\n          const Guard = route.guard || Fragment;\r\n          const Layout = route.layout || Fragment;\r\n          const Component = route.component;\r\n          return (\r\n            <Route\r\n              key={i}\r\n              path={route.path}\r\n              exact={route.exact}\r\n              render={(props) => (\r\n                <Guard>\r\n                  <Layout>\r\n                    {\r\n                      route.routes ? (\r\n                        renderRoutes(route.routes)\r\n                      ) : (\r\n                        <Component {...props} />\r\n                      )\r\n                      // console.log(\"route\",props)\r\n                    }\r\n                  </Layout>\r\n                </Guard>\r\n              )}\r\n            />\r\n          );\r\n        })}\r\n      </Switch>\r\n    </Suspense>\r\n  ) : null;\r\n\r\nfunction Routes() {\r\n  return renderRoutes(routesConfig);\r\n}\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Routes from \"./Routes\";\r\nimport { Router } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\nconst history = createBrowserHistory();\r\n\r\nfunction App() {\r\n  return (\r\n    <Router history={history}>\r\n      <Routes />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/card_back.34ef057e.png\";","module.exports = __webpack_public_path__ + \"static/media/shiba-inu.60ec3f5f.svg\";"],"sourceRoot":""}